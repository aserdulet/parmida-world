import{e as V,f as q,j as e,H,R as k,T as g,F as A,g as z,M as C,C as B,a as $,h as E,i as X,k as J,E as Y,V as Z,O as K,l as Q}from"./vendor-three-CKRUJ1Vb.js";import{b as n}from"./vendor-react-DR2mk_sf.js";const U=V((o,s)=>({unlockedSeasons:["s1","s2"],isPhoneOpen:!1,isReviewOpen:!1,isCoffeeOpen:!1,isMallOpen:!1,hasNotification:!0,isTransitioning:!1,isMobile:!1,currentStep:"STATION",currentLocation:"HUB",setCurrentLocation:t=>o({currentLocation:t}),bikeProgress:0,setBikeProgress:t=>o({bikeProgress:t}),isFriendInvited:!1,inviteFriend:()=>o({isFriendInvited:!0}),setPhoneOpen:t=>o({isPhoneOpen:t}),setReviewOpen:t=>o({isReviewOpen:t}),setCoffeeOpen:t=>o({isCoffeeOpen:t}),setMallOpen:t=>o({isMallOpen:t}),setNotification:t=>o({hasNotification:t}),setIsMobile:t=>o({isMobile:t}),handleNextStep:t=>{const{currentStep:a}=s(),r=Object.keys(t),i=(r.indexOf(a)+1)%r.length,l=r[i];o({isTransitioning:!0}),setTimeout(()=>{o({currentStep:l,hasNotification:!0,isPhoneOpen:!1})},400),setTimeout(()=>o({isTransitioning:!1}),2500)}})),ee=()=>{const{progress:o}=q();return e.jsx(H,{center:!0,children:e.jsxs("div",{className:"fixed inset-0 w-screen h-screen bg-[#0f172a] flex flex-col items-center justify-center z-[1000] transition-all duration-1000",children:[e.jsxs("div",{className:"mb-12 flex flex-col items-center animate-in fade-in zoom-in duration-1000",children:[e.jsx("div",{className:"w-24 h-24 bg-white/5 rounded-3xl border border-white/10 flex items-center justify-center mb-6 shadow-2xl backdrop-blur-xl",children:e.jsx("span",{className:"text-5xl animate-pulse",children:"ðŸš‚"})}),e.jsxs("h1",{className:"text-white font-black text-3xl tracking-tighter uppercase mb-2",children:["Vision & Style ",e.jsx("span",{className:"text-pink-500 italic",children:"Express"})]}),e.jsx("p",{className:"text-white/40 font-bold text-[10px] uppercase tracking-[0.4em]",children:"Destination: 14 February 2026"})]}),e.jsxs("div",{className:"w-64 flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-full h-1.5 bg-white/5 rounded-full overflow-hidden border border-white/5",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-pink-500 to-rose-400 transition-all duration-300 ease-out shadow-[0_0_15px_rgba(236,72,153,0.5)]",style:{width:`${o}%`}})}),e.jsxs("div",{className:"flex justify-between w-full px-1",children:[e.jsx("span",{className:"text-white/30 font-black text-[9px] uppercase tracking-widest",children:"Initializing World"}),e.jsxs("span",{className:"text-pink-500 font-black text-[10px]",children:[Math.round(o),"%"]})]})]}),e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-pink-500/10 rounded-full blur-[120px] -z-10 animate-pulse"})]})})};function se({scale:o=1,position:s,rotation:t,colors:a}){return e.jsxs("group",{scale:o,position:s,rotation:t,children:[e.jsxs("mesh",{"position-y":.1,castShadow:!0,children:[e.jsx("boxGeometry",{args:[.4,.2,.4]}),e.jsx("meshStandardMaterial",{color:"white",flatShading:!0})]}),e.jsxs("mesh",{"position-y":.3,castShadow:!0,children:[e.jsx("boxGeometry",{args:[.5,.4,.5]}),e.jsx("meshStandardMaterial",{color:"white",flatShading:!0})]}),e.jsxs("mesh",{"position-y":.55,castShadow:!0,children:[e.jsx("boxGeometry",{args:[.55,.1,.55]}),e.jsx("meshStandardMaterial",{color:"white",flatShading:!0})]}),e.jsxs("mesh",{"position-y":.61,"rotation-x":-Math.PI/2,children:[e.jsx("planeGeometry",{args:[.45,.45]}),e.jsx("meshStandardMaterial",{color:a.coffeeDark,flatShading:!0})]})]})}function te({onClick:o,...s}){const[t,a]=n.useState(!1),r={wall:"#f5f6fa",skirting:"#2d3436",roofBase:"#d35400",roofTop:"#e67e22",door:"#5d4037",awningLight:"#f7f1e3",awningDark:"#d1ccc0",coffeeDark:"#3d2b1f",grass:"#44bd32",gold:"#d4af37",marble:"#ffffff"};return e.jsxs("group",{...s,onPointerOver:()=>{a(!0),document.body.style.cursor="pointer"},onPointerOut:()=>{a(!1),document.body.style.cursor="auto"},onClick:i=>{i.stopPropagation(),o()},children:[e.jsxs("group",{"position-y":.05,children:[e.jsx(k,{args:[4.8,.1,4.8],radius:.05,receiveShadow:!0,castShadow:!0,children:e.jsx("meshStandardMaterial",{color:r.gold,metalness:.8})}),e.jsx(k,{args:[4.5,.15,4.5],radius:.05,"position-y":.05,receiveShadow:!0,castShadow:!0,children:e.jsx("meshStandardMaterial",{color:"#dcdde1"})}),e.jsx("group",{"position-y":.08,children:e.jsx(k,{args:[1.4,.05,.8],radius:.02,position:[0,.05,1.4],receiveShadow:!0,castShadow:!0,children:e.jsx("meshStandardMaterial",{color:r.marble})})})]}),e.jsxs("group",{"position-y":1.1,children:[e.jsxs("mesh",{castShadow:!0,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[2.8,2.2,2.5]}),e.jsx("meshStandardMaterial",{color:r.wall,flatShading:!0})]}),e.jsxs("mesh",{position:[-1.41,0,0],children:[e.jsx("boxGeometry",{args:[.05,2.2,2.1]}),e.jsx("meshStandardMaterial",{color:r.door})]}),e.jsxs("mesh",{position:[1.41,0,0],children:[e.jsx("boxGeometry",{args:[.05,2.2,2.1]}),e.jsx("meshStandardMaterial",{color:r.door})]}),e.jsxs("group",{position:[0,0,1.26],children:[e.jsxs("mesh",{castShadow:!0,children:[e.jsx("boxGeometry",{args:[2.4,1.8,.1]}),e.jsx("meshStandardMaterial",{color:"#a6d9e8",transparent:!0,opacity:.3,metalness:.9,roughness:.1})]}),e.jsxs("mesh",{position:[0,.9,.05],children:[e.jsx("boxGeometry",{args:[2.5,.1,.12]}),e.jsx("meshStandardMaterial",{color:r.gold,metalness:1})]}),e.jsxs("mesh",{position:[0,-.9,.05],children:[e.jsx("boxGeometry",{args:[2.5,.1,.12]}),e.jsx("meshStandardMaterial",{color:r.gold,metalness:1})]})]}),e.jsxs("group",{position:[.8,-.4,1.27],children:[e.jsxs("mesh",{castShadow:!0,children:[e.jsx("boxGeometry",{args:[.7,1.4,.05]}),e.jsx("meshStandardMaterial",{color:r.door})]}),e.jsxs("mesh",{position:[.2,0,.03],children:[e.jsx("boxGeometry",{args:[.05,.3,.05]}),e.jsx("meshStandardMaterial",{color:r.gold,metalness:1})]})]})]}),e.jsxs("group",{"position-y":2.2,children:[e.jsxs("mesh",{castShadow:!0,children:[e.jsx("boxGeometry",{args:[3.2,.2,3]}),e.jsx("meshStandardMaterial",{color:r.skirting})]}),e.jsxs("mesh",{"position-y":.25,castShadow:!0,children:[e.jsx("boxGeometry",{args:[2.8,.3,2.6]}),e.jsx("meshStandardMaterial",{color:r.roofTop})]}),e.jsxs("group",{position:[0,.6,1.3],scale:t?1.05:1,children:[e.jsxs("mesh",{castShadow:!0,children:[e.jsx("boxGeometry",{args:[3.4,1,.15]}),e.jsx("meshStandardMaterial",{color:"#1a1a1a",roughness:.2,metalness:.8})]}),e.jsxs("mesh",{position:[0,0,-.05],children:[e.jsx("boxGeometry",{args:[3.5,1.1,.1]}),e.jsx("meshStandardMaterial",{color:r.gold,metalness:1})]}),e.jsx(g,{fontSize:.35,color:"white",position:[0,.22,.08],anchorX:"center",anchorY:"middle",children:"Ø¢Ù†Ø¯Ø±Ù‡"}),e.jsxs("mesh",{position:[0,-.05,.08],children:[e.jsx("planeGeometry",{args:[2.2,.03]}),e.jsx("meshStandardMaterial",{color:r.gold,emissive:r.gold,emissiveIntensity:2})]}),e.jsx(g,{fontSize:.12,color:r.gold,position:[0,-.22,.08],fontWeight:900,letterSpacing:.4,anchorX:"center",anchorY:"middle",children:"VIRTUAL COFFEE"})]}),e.jsx("group",{position:[1,.4,.5],rotation:[0,-.4,0],children:e.jsx(se,{scale:1.5,colors:r,position:[0,0,0]})})]}),e.jsx("group",{position:[0,2.1,1.4],"rotation-x":.4,children:[...Array(7)].map((i,l)=>e.jsxs("mesh",{position:[l*.4-1.2,0,0],castShadow:!0,children:[e.jsx("boxGeometry",{args:[.38,.08,.8]}),e.jsx("meshStandardMaterial",{color:l%2===0?r.awningDark:r.awningLight})]},l))}),e.jsx("group",{position:[-1.8,.4,1.8],children:[0,.8].map((i,l)=>e.jsxs("group",{position:[i,0,0],children:[e.jsxs("mesh",{castShadow:!0,children:[e.jsx("boxGeometry",{args:[.6,.5,.6]}),e.jsx("meshStandardMaterial",{color:r.marble})]}),e.jsxs("mesh",{"position-y":.4,children:[e.jsx("boxGeometry",{args:[.4,.4,.4]}),e.jsx("meshStandardMaterial",{color:r.grass})]})]},l))}),e.jsxs("group",{position:[2,.2,1.8],children:[e.jsxs("mesh",{"position-y":.5,castShadow:!0,children:[e.jsx("boxGeometry",{args:[.05,1,.05]}),e.jsx("meshStandardMaterial",{color:r.skirting})]}),e.jsxs("mesh",{"position-y":1,castShadow:!0,children:[e.jsx("boxGeometry",{args:[1.2,.05,1.2]}),e.jsx("meshStandardMaterial",{color:r.marble})]}),e.jsx("group",{"position-y":1.1,children:e.jsxs("mesh",{castShadow:!0,rotation:[0,Math.PI/4,0],children:[e.jsx("coneGeometry",{args:[1,.6,4]}),e.jsx("meshStandardMaterial",{color:r.gold,metalness:.5})]})})]})]})}function re({isOpen:o,onClose:s}){return o?e.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 sm:p-6 bg-black/90 backdrop-blur-xl animate-in fade-in duration-500",children:[e.jsx("div",{className:"absolute inset-0",onClick:s}),e.jsxs("div",{className:"relative w-full max-w-2xl bg-[#1a1a1a] rounded-3xl sm:rounded-4xl shadow-[0_0_100px_rgba(241,196,15,0.1)] overflow-hidden border border-white/10 flex flex-col animate-in zoom-in-95 max-h-[90vh]",children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 z-50 w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center rounded-full bg-black/50 sm:bg-black text-white hover:bg-[#f1c40f] hover:text-black transition-all duration-500 shadow-xl group cursor-pointer active:scale-90",children:e.jsx("span",{className:"group-hover:rotate-90 transition-transform duration-500 text-lg sm:text-xl",children:"âœ•"})}),e.jsxs("div",{className:"overflow-y-auto custom-scrollbar",children:[e.jsxs("div",{className:"relative aspect-[4/5] sm:aspect-video w-full bg-[#111] flex items-center justify-center overflow-hidden",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?q=80&w=1200&auto=format&fit=crop",alt:"Premium Coffee",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#1a1a1a] via-black/20 to-transparent"}),e.jsxs("div",{className:"absolute bottom-6 left-6 right-6 sm:bottom-8 sm:left-8 sm:right-8 pointer-events-none",children:[e.jsx("p",{className:"text-[#f1c40f] text-[9px] sm:text-[10px] font-black uppercase tracking-[0.4em] mb-2",children:"Andrei's Special Selection"}),e.jsxs("h2",{className:"text-white text-3xl sm:text-4xl font-black uppercase tracking-tighter leading-[0.9]",children:["The Perfect ",e.jsx("br",{})," Brew"]}),e.jsxs("p",{className:"text-white/80 text-xs sm:text-sm mt-3 sm:mt-4 max-w-md italic font-light leading-relaxed line-clamp-3 sm:line-clamp-none",children:["Experience the art of coffee making with ",e.jsx("span",{className:"text-[#f1c40f] font-bold",children:"much caring"}),". Crafted from the emotes list, served with style as a message in Discord and Telegram!"]})]})]}),e.jsxs("div",{className:"p-5 sm:p-6 bg-[#222] flex flex-col sm:flex-row items-center justify-between gap-4 border-t border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-[#f1c40f] shrink-0 rounded-xl flex items-center justify-center text-xl sm:text-2xl shadow-lg shadow-[#f1c40f]/20",children:"â˜•"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white text-sm sm:text-base font-bold tracking-tight",children:"Premium Roasted Beans"}),e.jsx("p",{className:"text-white/40 text-[9px] sm:text-[10px] uppercase tracking-widest font-black",children:"100% Arabica Or Davidoff"})]})]}),e.jsx("button",{onClick:s,className:"w-full sm:w-auto px-8 py-3 bg-white text-black font-black rounded-xl hover:bg-[#f1c40f] transition-all active:scale-95 text-[11px] sm:text-[12px] uppercase tracking-widest cursor-pointer",children:"Close ad"})]})]})]})]}):null}function ae(o){const s={marble:"#ffffff",wall:"#f2f2f2",wood:"#1e272e",roofMain:"#c85078",roofAccent:"#d87093",glass:"#a6d9e8",gold:"#d4af37",cross:"#2ecc71",darkAccent:"#2c3e50"};return e.jsxs("group",{...o,children:[e.jsxs("group",{"position-y":.05,children:[e.jsx(k,{args:[5.4,.1,5.4],radius:.05,receiveShadow:!0,castShadow:!0,children:e.jsx("meshStandardMaterial",{color:s.gold,metalness:.8})}),e.jsx(k,{args:[5,.15,5],radius:.05,"position-y":.05,receiveShadow:!0,castShadow:!0,children:e.jsx("meshStandardMaterial",{color:"#dcdde1"})}),e.jsxs("group",{position:[0,.1,1.8],children:[e.jsxs("mesh",{receiveShadow:!0,castShadow:!0,position:[0,0,0],children:[e.jsx("boxGeometry",{args:[3,.1,1.2]}),e.jsx("meshStandardMaterial",{color:s.marble})]}),e.jsxs("mesh",{receiveShadow:!0,castShadow:!0,position:[0,.1,-.2],children:[e.jsx("boxGeometry",{args:[2.5,.1,.8]}),e.jsx("meshStandardMaterial",{color:s.marble})]})]})]}),e.jsxs("group",{position:[0,1.1,.8],children:[e.jsxs("mesh",{castShadow:!0,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[2.2,2.2,1.2]}),e.jsx("meshStandardMaterial",{color:s.glass,transparent:!0,opacity:.2,metalness:.9,roughness:.1})]}),[[-1.1,-.6],[1.1,-.6],[-1.1,.6],[1.1,.6]].map((t,a)=>e.jsxs("mesh",{position:[t[0],0,t[1]],children:[e.jsx("boxGeometry",{args:[.08,2.2,.08]}),e.jsx("meshStandardMaterial",{color:s.gold,metalness:1})]},a)),e.jsxs("mesh",{position:[0,1.1,0],children:[e.jsx("boxGeometry",{args:[2.28,.1,1.28]}),e.jsx("meshStandardMaterial",{color:s.gold,metalness:1})]}),e.jsxs("mesh",{position:[0,-.8,-.2],castShadow:!0,children:[e.jsx("boxGeometry",{args:[1.2,.5,.4]}),e.jsx("meshStandardMaterial",{color:s.marble})]}),e.jsxs("mesh",{position:[0,.2,-.55],children:[e.jsx("boxGeometry",{args:[1.4,.8,.02]}),e.jsx("meshStandardMaterial",{color:"#1e272e",emissive:"#3498db",emissiveIntensity:.5})]})]}),e.jsxs("group",{"position-y":1.1,children:[e.jsxs("mesh",{position:[-1.8,0,-.5],castShadow:!0,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[1.4,2.2,2.5]}),e.jsx("meshStandardMaterial",{color:s.wall})]}),e.jsxs("mesh",{position:[1.8,0,-.5],castShadow:!0,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[1.4,2.2,2.5]}),e.jsx("meshStandardMaterial",{color:s.wall})]}),[-2.4,-1.2,1.2,2.4].map((t,a)=>e.jsxs("group",{position:[t,0,.76],children:[e.jsxs("mesh",{position:[0,-1,-.1],castShadow:!0,children:[e.jsx("boxGeometry",{args:[.3,.2,.2]}),e.jsx("meshStandardMaterial",{color:s.darkAccent})]}),[...Array(5)].map((r,i)=>e.jsxs("mesh",{position:[0,-1+i*.5,0],castShadow:!0,children:[e.jsx("boxGeometry",{args:[.05,.1,.1]}),e.jsx("meshStandardMaterial",{color:s.gold,metalness:1})]},i))]},a))]}),e.jsxs("group",{position:[-2,2.8,.8],children:[e.jsxs("mesh",{castShadow:!0,children:[e.jsx("boxGeometry",{args:[.6,.2,.2]}),e.jsx("meshStandardMaterial",{color:s.cross,emissive:s.cross,emissiveIntensity:2})]}),e.jsxs("mesh",{castShadow:!0,"rotation-z":Math.PI/2,children:[e.jsx("boxGeometry",{args:[.6,.2,.2]}),e.jsx("meshStandardMaterial",{color:s.cross,emissive:s.cross,emissiveIntensity:2})]}),e.jsx(A,{speed:2,rotationIntensity:.2,floatIntensity:.5,children:e.jsx("pointLight",{intensity:1,color:s.cross,distance:2})})]}),e.jsxs("group",{position:[0,2.3,-.2],children:[e.jsxs("mesh",{castShadow:!0,"position-y":0,children:[e.jsx("boxGeometry",{args:[5.2,.2,3.2]}),e.jsx("meshStandardMaterial",{color:s.roofMain})]}),e.jsxs("mesh",{"position-y":.25,castShadow:!0,children:[e.jsx("boxGeometry",{args:[3.5,.3,2.2]}),e.jsx("meshStandardMaterial",{color:s.roofAccent})]}),e.jsxs("group",{position:[0,.8,1.3],scale:1.3,children:[e.jsxs("group",{position:[-.45,0,0],children:[e.jsxs("mesh",{castShadow:!0,children:[e.jsx("torusGeometry",{args:[.35,.004,12,32]}),e.jsx("meshStandardMaterial",{color:s.wood,metalness:.5})]}),e.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[e.jsx("cylinderGeometry",{args:[.35,.35,.01,32]}),e.jsx("meshStandardMaterial",{color:s.glass,transparent:!0,opacity:.6,metalness:1})]})]}),e.jsxs("group",{position:[.45,0,0],children:[e.jsxs("mesh",{castShadow:!0,children:[e.jsx("torusGeometry",{args:[.35,.004,12,32]}),e.jsx("meshStandardMaterial",{color:s.wood,metalness:.5})]}),e.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[e.jsx("cylinderGeometry",{args:[.35,.35,.01,32]}),e.jsx("meshStandardMaterial",{color:s.glass,transparent:!0,opacity:.6,metalness:1})]})]}),e.jsxs("mesh",{position:[0,0,0],children:[e.jsx("boxGeometry",{args:[.2,.08,.04]}),e.jsx("meshStandardMaterial",{color:s.gold,metalness:1})]})]})]}),e.jsxs("group",{position:[0,3.6,.5],children:[e.jsxs("mesh",{castShadow:!0,children:[e.jsx("boxGeometry",{args:[4.2,1,.15]}),e.jsx("meshStandardMaterial",{color:s.wood,metalness:.8,roughness:.2})]}),e.jsxs("group",{position:[0,.15,.1],children:[e.jsx(g,{fontSize:.35,color:"white",anchorX:"right","position-x":-.1,fontWeight:900,children:"OPTICS"}),e.jsx(g,{"position-x":.1,fontSize:.35,color:s.roofAccent,anchorX:"center",fontWeight:900,children:"&"}),e.jsx(g,{fontSize:.35,color:"white",anchorX:"left","position-x":.25,fontWeight:900,children:"CLINIC"})]}),e.jsx(g,{fontSize:.1,color:s.roofAccent,position:[0,-.25,.1],fontWeight:700,letterSpacing:.15,maxWidth:4,textAlign:"center",children:"Advanced Medical Vision by Doktor Parmida"})]}),[[-2.2,2.2],[2.2,2.2]].map((t,a)=>e.jsxs("group",{position:[t[0],.4,-t[1]],children:[e.jsxs("mesh",{castShadow:!0,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[.8,.6,.8]}),e.jsx("meshStandardMaterial",{color:s.marble})]}),e.jsxs("group",{"position-y":.4,children:[e.jsxs("mesh",{castShadow:!0,children:[e.jsx("boxGeometry",{args:[.5,.5,.5]}),e.jsx("meshStandardMaterial",{color:"#27ae60"})]}),e.jsxs("mesh",{"position-y":.3,children:[e.jsx("boxGeometry",{args:[.3,.3,.3]}),e.jsx("meshStandardMaterial",{color:"#2ecc71"})]})]})]},a))]})}function L({position:o}){return e.jsx(A,{speed:4,rotationIntensity:.5,floatIntensity:2,children:e.jsx(H,{position:o,center:!0,pointerEvents:"none",children:e.jsx("div",{className:`
                    flex items-center justify-center
                    w-10 h-10
                    bg-black/40 backdrop-blur-md
                    border border-white/20
                    rounded-full shadow-2xl
                    animate-in fade-in zoom-in duration-300
                `,children:e.jsx("span",{className:"text-xl select-none filter drop-shadow-[0_0_8px_rgba(255,255,255,0.8)]",children:"ðŸ¤"})})})})}function oe(o){const s=n.useRef(),t=n.useRef(),[a,r]=n.useState(null),[i,l]=n.useState(!1),[u,f]=n.useState(!1),[j,b]=n.useState(!1),x={marble:"#ffffff",gold:"#d4af37",waterTop:"#b2ebf2",waterDeep:"#4dd0e1",sakura:"#ffb7c5",wood:"#2d3436",obsidian:"#1a1a1b"},y=d=>{d==="white"?(f(!0),setTimeout(()=>f(!1),2e3)):(b(!0),setTimeout(()=>b(!1),2e3))},M=d=>{d.stopPropagation();const c=d.point;r([c.x-o.position[0],.25,c.z-o.position[2]]),l(!0),setTimeout(()=>{l(!1),r(null)},4e3)};return z(({clock:d})=>{const c=d.getElapsedTime(),w=(m,p)=>{if(!m.current)return;const T=i?a[0]+(p?.3:-.3):p?Math.cos(c*.4)*.8+.6:Math.sin(c*.4)*.8-.6,I=i?a[2]+(p?.3:-.3):p?Math.sin(c*.5)*.7:Math.cos(c*.5)*.7;m.current.position.x=C.lerp(m.current.position.x,T,.03),m.current.position.z=C.lerp(m.current.position.z,I,.03);const P=Math.atan2(T-m.current.position.x,I-m.current.position.z);m.current.rotation.y=C.lerp(m.current.rotation.y,P+(p?Math.PI:0),.05),m.current.position.y=.38+Math.sin(c*2)*.02};w(s,!1),w(t,!0)}),e.jsxs("group",{...o,children:[e.jsxs("group",{children:[e.jsxs("mesh",{"position-y":.05,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[5,.1,5]}),e.jsx("meshStandardMaterial",{color:x.obsidian})]}),e.jsxs("mesh",{"position-y":.15,receiveShadow:!0,castShadow:!0,children:[e.jsx("boxGeometry",{args:[4.8,.1,4.8]}),e.jsx("meshStandardMaterial",{color:x.gold,metalness:1})]}),e.jsxs("mesh",{"position-y":.25,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[4.6,.1,4.6]}),e.jsx("meshStandardMaterial",{color:x.marble})]})]}),e.jsxs("group",{"position-y":.3,children:[e.jsxs("mesh",{"position-y":-.05,children:[e.jsx("boxGeometry",{args:[3.8,.05,3.8]}),e.jsx("meshStandardMaterial",{color:x.waterDeep})]}),e.jsxs("mesh",{"position-y":.08,onClick:M,children:[e.jsx("boxGeometry",{args:[3.8,.02,3.8]}),e.jsx("meshStandardMaterial",{color:x.waterTop,transparent:!0,opacity:.5,metalness:.9,roughness:0})]})]}),e.jsxs("group",{position:[-1.6,.3,-1.6],children:[e.jsxs("mesh",{"position-y":.5,children:[e.jsx("boxGeometry",{args:[.2,1,.2]}),e.jsx("meshStandardMaterial",{color:x.wood})]}),e.jsxs("mesh",{position:[.2,.8,0],rotation:[0,0,.5],children:[e.jsx("boxGeometry",{args:[.1,.6,.1]}),e.jsx("meshStandardMaterial",{color:x.wood})]}),e.jsxs("group",{"position-y":1.2,children:[e.jsxs("mesh",{children:[e.jsx("boxGeometry",{args:[1,.6,1]}),e.jsx("meshStandardMaterial",{color:x.sakura})]}),e.jsxs("mesh",{position:[.4,.3,.4],children:[e.jsx("boxGeometry",{args:[.6,.4,.6]}),e.jsx("meshStandardMaterial",{color:x.sakura})]}),e.jsxs("mesh",{position:[-.3,.2,-.3],children:[e.jsx("boxGeometry",{args:[.7,.5,.7]}),e.jsx("meshStandardMaterial",{color:x.sakura})]}),[...Array(5)].map((d,c)=>e.jsxs("mesh",{position:[Math.sin(c)*.8,-.8-c*.2,Math.cos(c)*.8],children:[e.jsx("boxGeometry",{args:[.05,.05,.05]}),e.jsx("meshStandardMaterial",{color:x.sakura})]},c))]})]}),e.jsxs("group",{position:[1.5,.3,0],children:[[[-.6,-1],[-.6,1],[.6,-1],[.6,1]].map((d,c)=>e.jsxs("mesh",{position:[d[0],.8,d[1]],children:[e.jsx("boxGeometry",{args:[.08,1.6,.08]}),e.jsx("meshStandardMaterial",{color:x.gold,metalness:1})]},c)),e.jsx("group",{"position-y":1.6,children:[...Array(5)].map((d,c)=>e.jsxs("mesh",{position:[0,0,-.8+c*.4],children:[e.jsx("boxGeometry",{args:[1.4,.05,.05]}),e.jsx("meshStandardMaterial",{color:x.gold,metalness:1})]},c))})]}),e.jsxs("group",{position:[0,.3,1.8],children:[e.jsxs("mesh",{"position-y":.1,children:[e.jsx("boxGeometry",{args:[1.2,.1,.4]}),e.jsx("meshStandardMaterial",{color:x.obsidian})]}),e.jsxs("mesh",{position:[0,.3,-.15],children:[e.jsx("boxGeometry",{args:[1.2,.3,.05]}),e.jsx("meshStandardMaterial",{color:x.obsidian})]}),e.jsxs("mesh",{position:[0,.16,0],children:[e.jsx("boxGeometry",{args:[1.1,.05,.35]}),e.jsx("meshStandardMaterial",{color:x.sakura})]})]}),e.jsxs("group",{"position-y":0,children:[e.jsxs("group",{ref:s,onClick:d=>{d.stopPropagation(),y("white")},children:[u&&e.jsx(L,{position:[0,.8,0]}),e.jsxs("mesh",{castShadow:!0,children:[e.jsx("boxGeometry",{args:[.3,.2,.4]}),e.jsx("meshStandardMaterial",{color:"#ffffff"})]}),e.jsxs("mesh",{position:[0,.2,.15],"rotation-x":-.4,children:[e.jsx("boxGeometry",{args:[.07,.4,.07]}),e.jsx("meshStandardMaterial",{color:"#ffffff"})]}),e.jsxs("mesh",{position:[0,.4,.22],children:[e.jsx("boxGeometry",{args:[.1,.1,.12]}),e.jsx("meshStandardMaterial",{color:"#ffffff"})]}),e.jsxs("mesh",{position:[0,.4,.28],children:[e.jsx("boxGeometry",{args:[.05,.05,.1]}),e.jsx("meshStandardMaterial",{color:"#e67e22"})]})]}),e.jsxs("group",{ref:t,onClick:d=>{d.stopPropagation(),y("black")},children:[j&&e.jsx(L,{position:[0,.8,0]}),e.jsxs("mesh",{castShadow:!0,children:[e.jsx("boxGeometry",{args:[.3,.2,.4]}),e.jsx("meshStandardMaterial",{color:"#222222"})]}),e.jsxs("mesh",{position:[0,.2,.15],"rotation-x":-.4,children:[e.jsx("boxGeometry",{args:[.07,.4,.07]}),e.jsx("meshStandardMaterial",{color:"#222222"})]}),e.jsxs("mesh",{position:[0,.4,.22],children:[e.jsx("boxGeometry",{args:[.1,.1,.12]}),e.jsx("meshStandardMaterial",{color:"#222222"})]}),e.jsxs("mesh",{position:[0,.4,.28],children:[e.jsx("boxGeometry",{args:[.05,.05,.1]}),e.jsx("meshStandardMaterial",{color:"#e67e22"})]})]})]}),i&&a&&e.jsx("group",{position:a,children:[...Array(3)].map((d,c)=>e.jsxs("mesh",{position:[Math.random()*.1,0,Math.random()*.1],children:[e.jsx("boxGeometry",{args:[.06,.06,.06]}),e.jsx("meshStandardMaterial",{color:x.gold,emissive:x.gold})]},c))}),[[-1.8,1.8],[1.8,-1.8]].map((d,c)=>e.jsxs("group",{position:[d[0],.3,d[1]],children:[e.jsxs("mesh",{"position-y":.1,children:[e.jsx("boxGeometry",{args:[.2,.2,.2]}),e.jsx("meshStandardMaterial",{color:x.marble})]}),e.jsxs("mesh",{"position-y":.3,children:[e.jsx("boxGeometry",{args:[.15,.2,.15]}),e.jsx("meshStandardMaterial",{emissive:x.gold,emissiveIntensity:2,color:"white"})]}),e.jsxs("mesh",{"position-y":.45,children:[e.jsx("boxGeometry",{args:[.25,.05,.25]}),e.jsx("meshStandardMaterial",{color:x.obsidian})]})]},c))]})}function ie(o){const s={platform:"#dcdde1",wall:"#f2f2f2",wallAccent:"#e1e1e1",accent:"#2d3436",roof:"#2f3640",wood:"#3d2b1f",glass:"#a6d9e8",gold:"#d4af37"},t=-(8*(Math.PI/6));return e.jsxs("group",{...o,children:[e.jsxs("group",{"position-y":.05,children:[e.jsx(k,{args:[4.8,.15,4.8],radius:.05,receiveShadow:!0,castShadow:!0,children:e.jsx("meshStandardMaterial",{color:s.accent})}),e.jsx(k,{args:[4.5,.18,4.5],radius:.05,"position-y":.02,receiveShadow:!0,castShadow:!0,children:e.jsx("meshStandardMaterial",{color:s.platform})})]}),e.jsxs("group",{position:[0,.9,-.8],children:[e.jsxs("mesh",{castShadow:!0,children:[e.jsx("boxGeometry",{args:[3.2,1.6,2]}),e.jsx("meshStandardMaterial",{color:s.wall})]}),e.jsxs("mesh",{position:[0,-.3,1.01],children:[e.jsx("boxGeometry",{args:[3.25,.08,.05]}),e.jsx("meshStandardMaterial",{color:s.wallAccent})]}),e.jsxs("mesh",{position:[0,.4,1.01],children:[e.jsx("boxGeometry",{args:[3.25,.04,.05]}),e.jsx("meshStandardMaterial",{color:s.wallAccent})]}),e.jsxs("mesh",{position:[0,.82,1.01],children:[e.jsx("boxGeometry",{args:[3.25,.05,.05]}),e.jsx("meshStandardMaterial",{color:s.gold,metalness:1})]}),[[-.6,1],[.6,1]].map((r,i)=>e.jsxs("group",{position:[r[0],-.1,r[1]],children:[e.jsxs("mesh",{children:[e.jsx("boxGeometry",{args:[.15,1.4,.15]}),e.jsx("meshStandardMaterial",{color:s.gold,metalness:.8})]}),e.jsxs("mesh",{position:[0,-.65,0],children:[e.jsx("boxGeometry",{args:[.22,.1,.22]}),e.jsx("meshStandardMaterial",{color:s.accent})]}),e.jsxs("mesh",{position:[0,.65,0],children:[e.jsx("boxGeometry",{args:[.22,.1,.22]}),e.jsx("meshStandardMaterial",{color:s.gold,metalness:1})]})]},i)),[[-1.1,.1],[1.1,.1]].map((r,i)=>e.jsxs("group",{position:[r[0],r[1],1],children:[e.jsxs("mesh",{castShadow:!0,receiveShadow:!0,children:[" ",e.jsx("boxGeometry",{args:[.7,.9,.1]}),e.jsx("meshStandardMaterial",{color:s.wallAccent})]}),e.jsxs("mesh",{position:[0,0,.02],receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[.5,.7,.05]}),e.jsx("meshStandardMaterial",{color:s.glass,transparent:!0,opacity:.5})]}),e.jsxs("mesh",{position:[0,0,.03],children:[e.jsx("boxGeometry",{args:[.5,.02,.01]}),e.jsx("meshStandardMaterial",{color:s.wallAccent})]})]},i)),e.jsxs("group",{position:[0,-.2,1.25],children:[e.jsxs("mesh",{castShadow:!0,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[.8,1.2,.05]}),e.jsx("meshStandardMaterial",{color:s.accent})]}),e.jsxs("mesh",{position:[0,.1,.03],children:[e.jsx("boxGeometry",{args:[.6,.9,.02]}),e.jsx("meshStandardMaterial",{color:s.glass,transparent:!0,opacity:.3})]}),e.jsxs("mesh",{position:[.1,-.1,.05],children:[e.jsx("sphereGeometry",{args:[.03,16,16]}),e.jsx("meshStandardMaterial",{color:s.gold,metalness:1})]})]})]}),e.jsxs("group",{position:[0,1.8,-.8],children:[e.jsxs("mesh",{castShadow:!0,children:[e.jsx("boxGeometry",{args:[4,.2,2.8]}),e.jsx("meshStandardMaterial",{color:s.roof})]}),e.jsxs("mesh",{"position-y":.2,castShadow:!0,children:[e.jsx("boxGeometry",{args:[2.5,.3,1.8]}),e.jsx("meshStandardMaterial",{color:s.accent})]}),e.jsxs("group",{position:[0,.15,1.45],children:[e.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[e.jsx("cylinderGeometry",{args:[.4,.4,.05,32]}),e.jsx("meshStandardMaterial",{color:"white"})]}),[0,1,2,3,4,5,6,7,8,9,10,11].map(r=>e.jsx("group",{rotation:[0,0,-r*(Math.PI/6)],children:e.jsxs("mesh",{position:[0,.3,.03],children:[e.jsx("boxGeometry",{args:[r%3===0?.04:.01,.08,.01]}),e.jsx("meshStandardMaterial",{color:"black"})]})},r)),e.jsx("group",{rotation:[0,0,t],position:[0,0,.04],children:e.jsxs("mesh",{position:[0,.12,0],children:[e.jsx("boxGeometry",{args:[.04,.24,.01]}),e.jsx("meshStandardMaterial",{color:"black"})]})}),e.jsx("group",{rotation:[0,0,0],position:[0,0,.05],children:e.jsxs("mesh",{position:[0,.16,0],children:[e.jsx("boxGeometry",{args:[.025,.32,.01]}),e.jsx("meshStandardMaterial",{color:"#c0392b"})]})})]})]}),[[-1.4,.8],[1.4,.8]].map((r,i)=>e.jsxs("group",{position:[r[0],.3,r[1]],children:[e.jsxs("mesh",{castShadow:!0,children:[e.jsx("boxGeometry",{args:[.9,.08,.4]}),e.jsx("meshStandardMaterial",{color:s.wood})]}),e.jsxs("mesh",{position:[0,-.1,0],children:[e.jsx("boxGeometry",{args:[.1,.2,.3]}),e.jsx("meshStandardMaterial",{color:"#222"})]})]},i)),[[-2.1,.5],[2.1,.5]].map((r,i)=>e.jsxs("group",{position:[r[0],.3,r[1]],children:[e.jsxs("mesh",{castShadow:!0,children:[e.jsx("boxGeometry",{args:[.5,.4,.5]}),e.jsx("meshStandardMaterial",{color:s.accent})]}),e.jsxs("mesh",{"position-y":.3,children:[e.jsx("boxGeometry",{args:[.4,.3,.4]}),e.jsx("meshStandardMaterial",{color:"#27ae60"})]}),e.jsxs("mesh",{position:[.1,.5,.1],children:[e.jsx("boxGeometry",{args:[.1,.1,.1]}),e.jsx("meshStandardMaterial",{color:"#e91e63",emissive:"#e91e63",emissiveIntensity:.5})]}),e.jsxs("mesh",{position:[-.1,.55,-.1],children:[e.jsx("boxGeometry",{args:[.1,.1,.1]}),e.jsx("meshStandardMaterial",{color:"#f1c40f",emissive:"#f1c40f",emissiveIntensity:.5})]})]},`plant-${i}`)),[[-2.1,1.5],[2.1,1.5]].map((r,i)=>e.jsxs("group",{position:[r[0],.1,r[1]],children:[e.jsxs("mesh",{"position-y":.5,castShadow:!0,receiveShadow:!0,children:[e.jsx("cylinderGeometry",{args:[.04,.04,1]}),e.jsx("meshStandardMaterial",{color:s.accent})]}),e.jsxs("mesh",{"position-y":.05,children:[e.jsx("boxGeometry",{args:[.15,.1,.15]}),e.jsx("meshStandardMaterial",{color:s.accent})]}),e.jsxs("mesh",{"position-y":1.1,castShadow:!0,children:[e.jsx("boxGeometry",{args:[.18,.18,.18]}),e.jsx("meshStandardMaterial",{color:"#f9ca24",emissive:"#f9ca24",emissiveIntensity:2})]})]},i))]})}function ne({active:o}){const s=n.useMemo(()=>Array.from({length:5},(a,r)=>({id:r,offset:[Math.random()*.2-.1,0,Math.random()*.2-.1],speed:.5+Math.random()*.5,delay:r*.4})),[]),t=n.useRef();return z(a=>{!o||!t.current||t.current.children.forEach((r,i)=>{const l=s[i],u=(a.clock.elapsedTime+l.delay)%2;r.position.y=.5+u*l.speed,r.scale.setScalar(1-u/2),r.material.opacity=(1-u/2)*.5})}),o?e.jsx("group",{ref:t,position:[.6,.4,0],children:s.map(a=>e.jsxs("mesh",{position:a.offset,children:[e.jsx("boxGeometry",{args:[.15,.15,.15]}),e.jsx("meshStandardMaterial",{color:"white",transparent:!0,opacity:.5,flatShading:!0})]},a.id))}):null}function le({accent:o}){const s=n.useMemo(()=>[{pos:[.4,.42,0],size:[.3,.06,.3]},{pos:[-.2,.41,.15],size:[.2,.04,.1]},{pos:[-.2,.41,-.15],size:[.2,.04,.1]}],[]);return e.jsxs("group",{children:[e.jsxs("mesh",{position:[0,.34,0],castShadow:!0,children:[e.jsx("boxGeometry",{args:[1.8,.08,.6]}),e.jsx("meshStandardMaterial",{color:"#2d3436",metalness:.8,roughness:.2})]}),s.map((t,a)=>e.jsxs("mesh",{position:t.pos,castShadow:!0,children:[e.jsx("boxGeometry",{args:t.size}),e.jsx("meshStandardMaterial",{color:o,metalness:.7,emissive:o,emissiveIntensity:.2})]},`greeble-${a}`))]})}function ce({position:o,accent:s}){return e.jsxs("group",{position:o,children:[e.jsxs("mesh",{position:[0,-.26,0],castShadow:!0,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[2.2,.12,.82]}),e.jsx("meshStandardMaterial",{color:"#000",metalness:.8})]}),e.jsxs("mesh",{castShadow:!0,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[2,.6,.75]}),e.jsx("meshStandardMaterial",{color:"white"})]}),[[-.55,0],[.55,0]].map((t,a)=>e.jsxs("mesh",{position:[t[0],.1,0],children:[e.jsx("boxGeometry",{args:[.7,.28,.77]}),e.jsx("meshStandardMaterial",{color:"#1a1a1b",metalness:1,roughness:.1})]},`window-${a}`)),e.jsxs("mesh",{position:[0,.1,.385],children:[e.jsx("boxGeometry",{args:[2,.02,.01]}),e.jsx("meshStandardMaterial",{color:s,emissive:s,emissiveIntensity:.5})]}),e.jsxs("mesh",{position:[0,-.1,.385],children:[e.jsx("boxGeometry",{args:[2,.02,.01]}),e.jsx("meshStandardMaterial",{color:s,emissive:s,emissiveIntensity:.5})]}),e.jsx(le,{accent:s}),e.jsxs("mesh",{position:[0,-.12,0],children:[e.jsx("boxGeometry",{args:[2.02,.04,.78]}),e.jsx("meshStandardMaterial",{color:s,emissive:s,emissiveIntensity:.2})]})]})}function de({targetX:o}){const s=n.useRef(),t=n.useRef(o),a={gold:"#d4af37",rose:"#f4c2c2",obsidian:"#1a1a1b",light:"#fffde7"};return z(r=>{s.current&&(t.current=C.lerp(t.current,o,.02),s.current.position.x=t.current,s.current.position.y=.5+Math.sin(r.clock.elapsedTime*10)*.002)}),e.jsxs("group",{ref:s,position:[t.current,.5,2],children:[e.jsxs("group",{position:[2.4,0,0],children:[e.jsxs("mesh",{castShadow:!0,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[1.8,.6,.75]}),e.jsx("meshStandardMaterial",{color:"white"})]}),e.jsxs("group",{position:[.9,-.05,0],children:[e.jsxs("mesh",{position:[.1,.05,0],castShadow:!0,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[.2,.5,.75]}),e.jsx("meshStandardMaterial",{color:"white"})]}),e.jsxs("mesh",{position:[.3,-.02,0],castShadow:!0,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[.2,.35,.75]}),e.jsx("meshStandardMaterial",{color:"white"})]}),e.jsxs("mesh",{position:[.25,-.02,.3],children:[e.jsx("boxGeometry",{args:[.1,.05,.1]}),e.jsx("meshStandardMaterial",{emissive:a.light,emissiveIntensity:5})]}),e.jsxs("mesh",{position:[.25,-.02,-.3],children:[e.jsx("boxGeometry",{args:[.1,.05,.1]}),e.jsx("meshStandardMaterial",{emissive:a.light,emissiveIntensity:5})]}),e.jsxs("mesh",{position:[.4,-.1,.25],children:[e.jsx("boxGeometry",{args:[.1,.05,.1]}),e.jsx("meshStandardMaterial",{emissive:a.light,emissiveIntensity:3})]}),e.jsxs("mesh",{position:[.4,-.1,-.25],children:[e.jsx("boxGeometry",{args:[.1,.05,.1]}),e.jsx("meshStandardMaterial",{emissive:a.light,emissiveIntensity:3})]})]}),e.jsxs("mesh",{position:[.4,.18,0],castShadow:!0,children:[e.jsx("boxGeometry",{args:[.7,.25,.77]}),e.jsx("meshStandardMaterial",{color:a.obsidian,metalness:1,roughness:0})]}),e.jsxs("mesh",{position:[.4,.3,0],children:[e.jsx("boxGeometry",{args:[.72,.02,.78]}),e.jsx("meshStandardMaterial",{color:a.gold,metalness:1})]}),e.jsx(ne,{active:Math.abs(t.current- -15)<2}),e.jsx("group",{position:[-.2,0,0],children:[0,.1,.2].map((r,i)=>e.jsxs("mesh",{position:[r,0,.38],children:[e.jsx("boxGeometry",{args:[.02,.3,.01]}),e.jsx("meshStandardMaterial",{color:a.gold})]},`vent-${i}`))})]}),[0,1,2].map(r=>e.jsxs("group",{position:[-r*2.25,0,0],children:[e.jsx(ce,{accent:a.rose,position:[0,0,0]}),e.jsxs("mesh",{position:[1.12,-.05,0],children:[e.jsx("boxGeometry",{args:[.25,.45,.55]}),e.jsx("meshStandardMaterial",{color:"#000",roughness:1})]})]},`carriage-${r}`)),e.jsxs("mesh",{position:[-1,-.36,0],children:[e.jsx("boxGeometry",{args:[9,.01,.5]}),e.jsx("meshStandardMaterial",{emissive:a.rose,emissiveIntensity:1.5,transparent:!0,opacity:.6})]})]})}function xe(o){const s={obsidian:"#1a1a1b",gold:"#d4af37",rose:"#d87093"};return e.jsxs("group",{...o,children:[e.jsxs("group",{"position-y":.05,children:[e.jsx(k,{args:[2.5,.1,1.2],radius:.05,receiveShadow:!0,children:e.jsx("meshStandardMaterial",{color:s.gold,metalness:.8})}),e.jsx(k,{args:[2.2,.15,1],radius:.05,"position-y":.05,receiveShadow:!0,children:e.jsx("meshStandardMaterial",{color:s.obsidian})})]}),e.jsxs("mesh",{position:[-.8,.6,0],castShadow:!0,children:[e.jsx("boxGeometry",{args:[.08,1,.08]}),e.jsx("meshStandardMaterial",{color:s.gold,metalness:1})]}),e.jsxs("mesh",{position:[.8,.6,0],castShadow:!0,children:[e.jsx("boxGeometry",{args:[.08,1,.08]}),e.jsx("meshStandardMaterial",{color:s.gold,metalness:1})]}),e.jsxs("group",{position:[0,1.6,0],children:[e.jsx(k,{args:[3.2,1.6,.15],radius:.1,children:e.jsx("meshStandardMaterial",{color:s.rose,emissive:s.rose,emissiveIntensity:.2})}),e.jsxs("mesh",{position:[0,0,.08],children:[e.jsx("boxGeometry",{args:[2.9,1.3,.02]}),e.jsx("meshStandardMaterial",{color:"#a6d9e8",transparent:!0,opacity:.1,metalness:1})]}),e.jsxs("group",{position:[0,0,.1],children:[e.jsx(g,{position:[0,.45,0],fontSize:.08,color:"#fbc2eb",fontWeight:900,letterSpacing:.4,children:"SAVE THE DATE"}),e.jsx(g,{position:[0,.1,0],fontSize:.32,color:"white",fontWeight:900,letterSpacing:-.05,children:"14 FEBRUARY"}),e.jsxs("mesh",{position:[0,-.15,0],children:[e.jsx("planeGeometry",{args:[.8,.01]}),e.jsx("meshBasicMaterial",{color:"white",transparent:!0,opacity:.3})]}),e.jsx(g,{position:[0,-.35,0],fontSize:.11,color:"white",fontStyle:"italic",fontWeight:200,opacity:.8,transparent:!0,children:"The journey continues..."})]}),e.jsx("pointLight",{position:[0,0,.3],intensity:2,color:"#ff79c6",distance:4})]}),e.jsx(A,{speed:3,rotationIntensity:.5,floatIntensity:.5,children:[...Array(6)].map((t,a)=>e.jsxs("mesh",{position:[Math.sin(a*1.5)*2,Math.cos(a*.8)+1.6,Math.sin(a*.5)*.5],children:[e.jsx("boxGeometry",{args:[.04,.04,.04]}),e.jsx("meshStandardMaterial",{color:s.gold,emissive:s.gold,emissiveIntensity:2})]},a))})]})}function he({onClick:o,...s}){const[t,a]=n.useState(!1),r={obsidian:"#1a1a1b",gold:"#d4af37",marble:"#ffffff",accent:"#4834d4",glass:"#e3f2fd",emissive:"#fff9c4",pink:"#ff79c6"};return e.jsxs("group",{...s,onPointerOver:()=>{a(!0),document.body.style.cursor="pointer"},onPointerOut:()=>{a(!1),document.body.style.cursor="auto"},onClick:i=>{i.stopPropagation(),o&&o()},children:[e.jsx("pointLight",{position:[0,2,2],intensity:t?10:0,distance:5,color:r.gold}),e.jsxs("group",{children:[e.jsxs("mesh",{"position-y":.025,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[5,.05,5]}),e.jsx("meshStandardMaterial",{color:r.obsidian,roughness:.1})]}),e.jsxs("mesh",{"position-y":.075,receiveShadow:!0,castShadow:!0,children:[e.jsx("boxGeometry",{args:[4.8,.05,4.8]}),e.jsx("meshStandardMaterial",{color:r.gold,metalness:1,roughness:.2})]}),e.jsxs("mesh",{"position-y":.1,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[4.6,.05,4.6]}),e.jsx("meshStandardMaterial",{color:r.marble})]})]}),e.jsxs("group",{"position-y":1.5,children:[e.jsxs("mesh",{castShadow:!0,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[4,2.8,3]}),e.jsx("meshStandardMaterial",{color:r.marble})]}),[...Array(12)].map((i,l)=>e.jsx("group",{position:[-2+l*.36,0,1.55],children:l<3||l>8?e.jsxs("mesh",{castShadow:!0,receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[.05,2.8,.1]}),e.jsx("meshStandardMaterial",{color:r.gold,metalness:.8})]}):null},l))]}),e.jsxs("group",{position:[0,1.1,1.55],children:[e.jsxs("mesh",{children:[e.jsx("boxGeometry",{args:[2.5,1.8,.2]}),e.jsx("meshStandardMaterial",{color:r.obsidian})]}),e.jsxs("mesh",{position:[0,0,.1],children:[e.jsx("boxGeometry",{args:[2.3,1.6,.02]}),e.jsx("meshStandardMaterial",{color:r.glass,transparent:!0,opacity:t?.1:.3,metalness:1,roughness:0})]}),e.jsxs("group",{position:[0,-.4,-.05],children:[e.jsxs("mesh",{position:[0,.2,0],children:[e.jsx("boxGeometry",{args:[.4,.1,.4]}),e.jsx("meshStandardMaterial",{color:r.gold})]}),e.jsxs("group",{position:[0,.4,0],children:[e.jsxs("mesh",{children:[e.jsx("boxGeometry",{args:[.3,.02,.3]}),e.jsx("meshStandardMaterial",{color:r.obsidian})]}),e.jsxs("mesh",{"position-y":.12,children:[e.jsx("boxGeometry",{args:[.18,.2,.18]}),e.jsx("meshStandardMaterial",{color:r.obsidian})]}),e.jsxs("mesh",{"position-y":.05,children:[e.jsx("boxGeometry",{args:[.19,.05,.19]}),e.jsx("meshStandardMaterial",{color:r.accent})]})]}),e.jsxs("mesh",{position:[-.6,.1,0],castShadow:!0,children:[e.jsx("boxGeometry",{args:[.2,.3,.2]}),e.jsx("meshStandardMaterial",{color:r.pink})]}),e.jsxs("mesh",{position:[.6,.1,0],castShadow:!0,children:[e.jsx("boxGeometry",{args:[.2,.4,.2]}),e.jsx("meshStandardMaterial",{color:r.gold,metalness:1})]})]})]}),e.jsxs("group",{position:[0,3.1,1.6],scale:t?1.05:1,children:[e.jsxs("mesh",{castShadow:!0,children:[e.jsx("boxGeometry",{args:[3.2,.6,.1]}),e.jsx("meshStandardMaterial",{color:r.obsidian})]}),e.jsxs("mesh",{position:[0,-.32,0],children:[e.jsx("boxGeometry",{args:[3.2,.05,.1]}),e.jsx("meshStandardMaterial",{emissive:r.gold,emissiveIntensity:t?5:2})]}),e.jsx(me,{colors:r})]}),[[-2.1,1.5],[2.1,1.5]].map((i,l)=>e.jsxs("group",{position:[i[0],1.4,i[1]],children:[e.jsxs("mesh",{children:[e.jsx("boxGeometry",{args:[.3,2.8,.3]}),e.jsx("meshStandardMaterial",{color:r.marble})]}),[.8,0,-.8].map((u,f)=>e.jsxs("mesh",{"position-y":u,children:[e.jsx("boxGeometry",{args:[.35,.05,.35]}),e.jsx("meshStandardMaterial",{color:r.gold,metalness:1})]},f)),e.jsxs("mesh",{"position-y":1.5,children:[e.jsx("boxGeometry",{args:[.2,.2,.2]}),e.jsx("meshStandardMaterial",{emissive:r.emissive,emissiveIntensity:1})]})]},l)),e.jsxs("group",{"position-y":2.9,children:[e.jsxs("mesh",{"position-y":.15,children:[e.jsx("boxGeometry",{args:[4,.2,3]}),e.jsx("meshStandardMaterial",{color:r.obsidian})]}),e.jsxs("group",{position:[1.2,.3,.8],children:[e.jsxs("mesh",{castShadow:!0,children:[e.jsx("boxGeometry",{args:[.6,.3,.6]}),e.jsx("meshStandardMaterial",{color:r.marble})]}),e.jsxs("mesh",{"position-y":.25,children:[e.jsx("boxGeometry",{args:[.4,.4,.4]}),e.jsx("meshStandardMaterial",{color:"#27ae60"})]})]}),e.jsxs("group",{position:[-1,.3,-.5],children:[e.jsxs("mesh",{children:[e.jsx("boxGeometry",{args:[.4,.3,.4]}),e.jsx("meshStandardMaterial",{color:"#444"})]}),e.jsxs("mesh",{position:[.5,0,0],children:[e.jsx("boxGeometry",{args:[.3,.2,.3]}),e.jsx("meshStandardMaterial",{color:"#444"})]})]})]}),e.jsxs("group",{position:[-1.8,.6,2.2],children:[e.jsxs("mesh",{castShadow:!0,children:[e.jsx("boxGeometry",{args:[.15,1.2,.4]}),e.jsx("meshStandardMaterial",{color:r.obsidian})]}),e.jsxs("mesh",{position:[.08,.2,0],children:[e.jsx("boxGeometry",{args:[.01,.7,.3]}),e.jsx("meshStandardMaterial",{color:r.accent,emissive:r.accent,emissiveIntensity:.5})]})]})]})}function me({colors:o}){const t={fontSize:.18,anchorY:"middle",letterSpacing:.05};return e.jsxs("group",{position:[0,0,.06],children:[e.jsxs("group",{position:[-.95,0,0],children:[e.jsx(g,{...t,color:o.gold,fontWeight:900,anchorX:"left",children:"S"}),e.jsx(g,{...t,color:"white",fontWeight:200,anchorX:"left","position-x":.14,children:"CARVES &"})]}),e.jsxs("group",{position:[.1,0,0],children:[e.jsx(g,{...t,color:o.gold,fontWeight:900,anchorX:"left",children:"H"}),e.jsx(g,{...t,color:"white",fontWeight:200,anchorX:"left","position-x":.14,children:"ATS"})]})]})}function ue({onClick:o}){const[s,t]=n.useState(!1),a={diamond:"#ffdeeb",gold:"#d4af37",pedestal:"#ffffff"};return e.jsxs("group",{position:[3.2,.6,2.5],children:[e.jsxs("group",{"position-y":.1,children:[e.jsxs("mesh",{"position-y":-.4,castShadow:!0,children:[e.jsx("boxGeometry",{args:[.6,.4,.6]}),e.jsx("meshStandardMaterial",{color:a.pedestal,roughness:0})]}),e.jsxs("mesh",{"position-y":-.2,children:[e.jsx("boxGeometry",{args:[.65,.05,.65]}),e.jsx("meshStandardMaterial",{color:a.gold,metalness:1,roughness:.2})]}),e.jsxs("mesh",{onClick:o,onPointerOver:()=>{t(!0),document.body.style.cursor="pointer"},onPointerOut:()=>{t(!1),document.body.style.cursor="auto"},scale:s?1.15:1,children:[e.jsx("icosahedronGeometry",{args:[.4,0]}),e.jsx("meshPhysicalMaterial",{color:a.diamond,metalness:.5,roughness:0,transmission:.9,thickness:2,emissive:a.diamond,emissiveIntensity:s?2:.8})]}),e.jsx("pointLight",{position:[0,.5,.5],intensity:s?5:2,color:a.diamond})]}),e.jsx(A,{speed:2,rotationIntensity:.5,floatIntensity:.5})]})}const pe=[{name:"Stradivarius",specialty:"Designer Scarves & Silk",url:"https://www.stradivarius.com/de/",image:"https://images.pexels.com/photos/1036856/pexels-photo-1036856.jpeg?auto=compress&cs=tinysrgb&w=800"},{name:"Zara Berlin",specialty:"High-Street Chic & Hats",url:"https://www.zara.com/de/en/woman-accessories-hats-l1005.html",image:"https://images.unsplash.com/photo-1595341888016-a392ef81b7de?q=80&w=800&auto=format&fit=crop"},{name:"VooStore",specialty:"Avant-Garde Hats",url:"https://voostore.com/collections/womens-hats",image:"https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?q=80&w=800&auto=format&fit=crop"},{name:"Bershka",specialty:"Minimalist Headwear",url:"https://www.bershka.com/de/h-woman.html",image:"https://images.unsplash.com/photo-1520903920243-00d872a2d1c9?q=80&w=800&auto=format&fit=crop"},{name:"Galeries Lafayette",specialty:"French Elegance & Scarves",url:"https://www.galerieslafayette.com/",image:"https://images.unsplash.com/photo-1582037928769-181f2644ecb7?q=80&w=800&auto=format&fit=crop"},{name:"Mytheresa",specialty:"Couture Scarves",url:"https://www.mytheresa.com/de/en/women/accessories/scarves",image:"https://images.unsplash.com/photo-1606760227091-3dd870d97f1d?q=80&w=800&auto=format&fit=crop"}];function je({isOpen:o,onClose:s}){return o?e.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center p-4 md:p-10 bg-black/90 backdrop-blur-3xl animate-in fade-in duration-700",children:e.jsxs("div",{className:"w-full max-w-4xl bg-[#fdfdfd] rounded-[2.5rem] shadow-[0_40px_100px_rgba(0,0,0,0.8)] border border-white/20 flex flex-col overflow-hidden animate-in zoom-in-95 duration-500 landscape:scale-[0.8] landscape:origin-center",children:[e.jsxs("div",{className:"bg-white px-10 py-8 flex justify-between items-center border-b border-gray-100 relative",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-linear-to-r from-transparent via-[#d4af37] to-transparent"}),e.jsx("div",{children:e.jsx("p",{className:"text-[#d4af37] text-[10px] font-black uppercase tracking-[0.6em] mb-2",children:"Private Shops Tour"})}),e.jsx("button",{onClick:s,className:"w-14 h-14 flex items-center justify-center rounded-full bg-black text-white hover:bg-[#d4af37] transition-all duration-500 shadow-xl group cursor-pointer",children:e.jsx("span",{className:"group-hover:rotate-90 transition-transform duration-500 text-xl",children:"âœ•"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar bg-gray-50/50 max-h-[70vh]",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:pe.map((t,a)=>e.jsxs("div",{onClick:()=>window.open(t.url,"_blank"),className:"group relative h-75 bg-white rounded-4xl overflow-hidden cursor-pointer shadow-sm hover:shadow-2xl transition-all duration-700 border border-white",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{src:t.image,className:"w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110",alt:t.name}),e.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/90 via-black/20 to-transparent opacity-80"})]}),e.jsx("div",{className:"absolute inset-0 p-8 flex flex-col justify-end text-white",children:e.jsxs("div",{className:"translate-y-6 group-hover:translate-y-0 transition-transform duration-500",children:[e.jsx("h3",{className:"text-2xl font-serif italic mb-2",children:t.name}),e.jsxs("p",{className:"text-white/60 text-[11px] font-light mb-4 italic",children:["Specialty: ",e.jsx("span",{className:"text-white font-medium",children:t.specialty})]}),e.jsx("div",{className:"h-0 opacity-0 group-hover:h-auto group-hover:opacity-100 transition-all duration-500 overflow-hidden",children:e.jsx("div",{className:"w-full py-3 bg-[#d4af37] text-white text-center rounded-xl text-[9px] font-black uppercase tracking-widest",children:"View Collection â†—"})})]})})]},a))}),e.jsxs("div",{className:"py-20 text-center",children:[e.jsx("div",{className:"w-20 h-px bg-[#d4af37] mx-auto mb-6 opacity-30"}),e.jsx("p",{className:"text-gray-400 text-[10px] font-light tracking-[0.4em] uppercase",children:"Exclusively for Parmida Style World â€¢ 2026"})]})]})]})}):null}function fe({videoUrl:o,poster:s}){const[,t]=n.useState(!1),a=n.useRef(null);n.useEffect(()=>{const i=a.current;if(!i)return;const l=()=>{!document.fullscreenElement&&!document.webkitFullscreenElement&&!document.mozFullScreenElement&&!document.msFullscreenElement&&(i.controls=!1,i.pause())},u=()=>{i.controls=!1,i.pause()};return document.addEventListener("fullscreenchange",l),document.addEventListener("webkitfullscreenchange",l),i.addEventListener("webkitendfullscreen",u),()=>{document.removeEventListener("fullscreenchange",l),document.removeEventListener("webkitfullscreenchange",l),i.removeEventListener("webkitendfullscreen",u)}},[]);const r=()=>{const i=a.current;i&&(i.muted=!1,i.play().catch(l=>console.log("Video play failed:",l)),i.requestFullscreen?i.requestFullscreen():i.webkitEnterFullscreen?i.webkitEnterFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen&&i.msRequestFullscreen(),i.controls=!0)};return e.jsxs("div",{className:"relative mt-2 group max-w-60",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[e.jsxs("div",{onClick:r,className:"rounded-xl overflow-hidden border border-white/10 bg-black shadow-lg relative aspect-video flex items-center justify-center cursor-pointer group/vid",children:[e.jsx("button",{type:"button","aria-label":"Fullscreen",onClick:i=>{i.stopPropagation(),r()},className:"absolute top-2 right-2 z-10 w-9 h-9 rounded-full bg-white/15 border border-white/30 backdrop-blur-md flex items-center justify-center active:scale-95 md:opacity-0 md:group-hover/vid:opacity-100 transition-opacity cursor-pointer",children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M15 3h6v6"}),e.jsx("path",{d:"M9 21H3v-6"}),e.jsx("path",{d:"M21 3l-7 7"}),e.jsx("path",{d:"M3 21l7-7"})]})}),e.jsx("video",{ref:a,poster:s,className:"w-full h-auto",playsInline:!0,preload:"metadata",controlsList:"nodownload",children:e.jsx("source",{src:o,type:"video/mp4"})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 group-hover/vid:bg-black/40 transition-all",children:e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center border border-white/30 group-hover/vid:scale-110 transition-transform",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})}),e.jsx("div",{className:"absolute bottom-2 right-2 text-[8px] text-white/50 uppercase font-black tracking-widest opacity-0 group-hover/vid:opacity-100 transition-opacity",children:"Click for Fullscreen Experience"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1.5 px-1",children:[e.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Parmida Exclusive Preview"})]})]})}function ge({isScanning:o,happiness:s}){const t=n.useRef(),a=n.useRef();return z(r=>{const i=r.clock.getElapsedTime();t.current&&(t.current.rotation.z=Math.sin(i*(1+s/50))*.1,t.current.position.y=Math.sin(i*2)*.05),o&&a.current&&(a.current.position.y=Math.sin(i*8)*.8)}),e.jsxs("group",{ref:t,scale:[1.1,1.1,1.1],children:[e.jsx(E,{args:[.3,.3,2.2,32],children:e.jsx("meshPhysicalMaterial",{transparent:!0,opacity:.15,transmission:1,thickness:.5,color:"#ffffff"})}),e.jsx(E,{args:[.28,.28,1.6,32],position:[0,-.2,0],children:e.jsx(X,{color:s>70?"#FF69B4":"#D32F2F",speed:o?5:1.5,distort:.2})}),e.jsx(E,{args:[.33,.33,.4,32],position:[0,1.1,0],children:e.jsx("meshStandardMaterial",{color:"#F472B6"})}),o&&e.jsxs("mesh",{ref:a,children:[e.jsx("cylinderGeometry",{args:[.45,.45,.03,32]}),e.jsx("meshBasicMaterial",{color:"#10B981",transparent:!0,opacity:.6})]})]})}function be({sugarLevel:o,setSugarLevel:s,happiness:t,setHappiness:a}){const[r,i]=n.useState(!1),[l,u]=n.useState(!1),[f,j]=n.useState(null),[b,x]=n.useState(null),y=[{id:"kranz",name:"Frankfurter Kranz",sugar:15,joy:20,icon:"ðŸ°",note:"Essential for Frankfurt survival."},{id:"nussecke",name:"Nussecke",sugar:25,joy:40,icon:"ðŸ¥œ",restricted:!0},{id:"beth",name:"BethmÃ¤nnchen",sugar:10,joy:15,icon:"ðŸª",note:"Mini-dose of Marzipan."},{id:"apfel",name:"Apfelstrudel",sugar:18,joy:25,icon:"ðŸŽ",note:"One slice keeps another doctor away."},{id:"donau",name:"Donauwelle",sugar:22,joy:30,icon:"ðŸ°",note:"Chocolate wave."}],M=()=>{i(!0),j(null),setTimeout(()=>{i(!1),j("PATIENT TYPE: 0 Negative (Universal Sugar with Joy)")},2500)},d=(c,w,m=!1)=>{s(p=>Math.min(p+c,100)),a(p=>Math.min(p+w,100)),x(t>80?"ðŸ¥°":"ðŸ˜Š"),setTimeout(()=>x(null),1e3),m&&u(!1)};return e.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#FCFDFF] relative overflow-hidden font-sans select-none",children:[e.jsxs("div",{className:"p-6 pt-12 bg-white border-b border-slate-100 z-20 shadow-sm",children:[e.jsx("h2",{className:"text-[10px] font-black text-pink-400 uppercase tracking-[0.3em] mb-1",children:"Doktor Parmida Secret Stash"}),e.jsx("h1",{className:"text-xl font-bold text-slate-800",children:"Sugar Analysis"})]}),e.jsxs("div",{className:"h-64 w-full relative z-10",children:[e.jsxs(B,{camera:{position:[0,0,4]},children:[e.jsx("ambientLight",{intensity:1.5}),e.jsx("pointLight",{position:[10,10,10],intensity:2}),e.jsxs(n.Suspense,{fallback:null,children:[e.jsx(ge,{sugarLevel:o,isScanning:r,happiness:t}),e.jsx($,{position:[0,-1.5,0],opacity:.2,scale:10,blur:2.5})]})]}),b&&e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-5xl animate-bounce z-50 pointer-events-none",children:b}),e.jsxs("div",{className:"absolute inset-x-6 bottom-4 flex flex-col gap-2 z-30",children:[f&&e.jsx("div",{className:"bg-emerald-50 border border-emerald-100 p-2 rounded-xl text-center animate-in slide-in-from-top-2 duration-500",children:e.jsx("p",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-tight",children:f})}),e.jsx("button",{onClick:M,className:"w-full cursor-pointer py-3.5 bg-slate-900 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl active:scale-95 transition-all",children:r?"Blood test results...":"Analyze Sample ðŸ’‰"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 z-20",children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Daily Prescriptions"}),y.map(c=>e.jsxs("button",{onClick:()=>c.restricted?u(!0):d(c.sugar,c.joy),className:"w-full bg-white border cursor-pointer border-slate-100 p-4 rounded-2xl flex justify-between items-center hover:border-pink-200 transition-all active:bg-slate-50 group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-50 rounded-full flex items-center justify-center text-xl group-hover:scale-110 transition-transform",children:c.icon}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-bold text-slate-700 text-xs",children:c.name}),e.jsx("p",{className:"text-[8px] text-slate-400 font-medium",children:c.note||"No side effects detected."})]})]}),e.jsx("div",{className:"text-[10px] font-black text-pink-500 bg-pink-50 px-3 py-1 rounded-full uppercase",children:"Eat"})]},c.id))]}),e.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 flex gap-4 shadow-[0_-4px_10px_rgba(0,0,0,0.02)]",children:[e.jsx(D,{label:"Sugar Level",value:o,color:"bg-pink-400"}),e.jsx(D,{label:"Happiness",value:t,color:"bg-emerald-400"})]}),l&&e.jsx(ye,{onDismiss:()=>u(!1),onSuccess:()=>d(25,45,!0)})]})}function D({label:o,value:s,color:t}){return e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between text-[8px] font-black text-slate-400 uppercase mb-1",children:[e.jsx("span",{children:o}),e.jsxs("span",{children:[Math.round(s),"%"]})]}),e.jsx("div",{className:"h-1.5 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${t} transition-all duration-1000 ease-out`,style:{width:`${s}%`}})})]})}function ye({onDismiss:o,onSuccess:s}){const[t,a]=n.useState(!1);return e.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md z-50 flex items-center justify-center p-8 animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-2xl text-center max-w-[280px] border border-slate-100 relative",children:[e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-pink-500 text-white text-[8px] font-bold px-3 py-1 rounded-full uppercase",children:"Security Alert"}),t?e.jsxs("div",{className:"animate-in zoom-in duration-300",children:[e.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"ðŸ¤«"}),e.jsx("h4",{className:"text-sm font-bold text-emerald-600 uppercase italic",children:"Approved!"}),e.jsx("p",{className:"text-[11px] text-slate-500 mt-4 leading-relaxed font-medium",children:"Hahaha, okay Doktor! But leave some for the summer."}),e.jsx("button",{onClick:s,className:"mt-6 w-full cursor-pointer py-4 bg-pink-500 text-white rounded-2xl text-[10px] font-black uppercase shadow-lg shadow-pink-200 active:scale-95 transition-all",children:"Ja / Si / areh / Da ðŸ˜‹"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-5xl mb-4 animate-pulse",children:"ðŸ¥œ"}),e.jsx("h4",{className:"text-sm font-bold text-slate-800 uppercase tracking-tight",children:"Out of Stock!"}),e.jsxs("p",{className:"text-[10px] text-slate-500 my-4 leading-relaxed font-medium italic",children:['"Nussecke is strictly reserved for the ',e.jsx("span",{className:"text-pink-500 font-bold underline",children:"Frankfurt Summer Real Life Meeting"}),'. Consumption is only permitted when the 2 authorized persons meet."']}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:o,className:"w-full py-4 bg-slate-100 cursor-pointer text-slate-600 rounded-2xl text-[10px] font-bold uppercase hover:bg-slate-200 transition-all",children:"I'll wait for summer ðŸ˜‡"}),e.jsx("button",{onClick:()=>a(!0),className:"w-full cursor-pointer py-2 text-pink-400 text-[9px] font-black uppercase hover:underline",children:"Give me anyway... ðŸ˜‚"})]})]})]})})}const we=()=>e.jsx("div",{className:"flex-1 flex flex-col h-full bg-white animate-in slide-in-from-right duration-300",children:e.jsxs("div",{className:"p-6 pt-12 flex flex-col gap-4",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h1",{className:"text-3xl font-black text-[#f39c12]",children:"Notes"})}),e.jsxs("div",{className:"mt-4 bg-[#fff9db] p-6 rounded-2xl shadow-sm border border-yellow-100 min-h-50 flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-[#f39c12] rounded-full"}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Personal Reminder"})]}),e.jsxs("p",{className:"text-xl font-medium text-gray-800 leading-tight",children:["Reminder: ",e.jsx("span",{className:"font-black border-b-2 border-[#f39c12]",children:"Study"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-auto italic",children:"Everything has a solution - don't forget it!"})]}),e.jsxs("div",{className:"mt-4 bg-[#fff9db] p-6 rounded-2xl shadow-sm border border-yellow-100 min-h-50 flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-[#f39c12] rounded-full"}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Future Self Parmida"})]}),e.jsxs("p",{className:"text-xl font-medium text-gray-800 leading-tight",children:["Parmida from the past was 10 hrs at work and still managed to do groceries and cook dinner. ",e.jsx("span",{className:"font-black border-b-2 border-[#f39c12]",children:"Remember that you are a super hero"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-auto italic",children:"#legend"})]})]})}),ve=()=>e.jsx("div",{className:"w-full h-full bg-white flex justify-center animate-in slide-in-from-right duration-300",children:e.jsx("iframe",{src:"https://aserdulet.github.io/jotto/",className:"w-full h-full border-none origin-top scale-[0.83]",style:{width:"380px",height:"120.5%"}})}),_={STATION:{from:"System",server:"Notifications",isJoinEvent:!0,serversAdded:["Study Hub - Fake It Until you Make it","Ketchup Queen's server","Shirin Close Friend","Shirin Close Close Friend","Shirin Ultimate Friend"],msg:"Multiple invitations received!"},COFFEE:{from:"Andrei",msg:"Coffee's on the way! â˜•",smartReply:"Happy to hear! Since I can't send real caffeine over Discord, here's a virtual one â˜• to help you finish the day strong. You've got this mate!"},CLINIC:{from:"Andrei",msg:"Any new stories from today? ðŸ‘“",smartReply:"gusham ba to doktor!"},MALL:{from:"Feryal",msg:"My boyfriend still wears your pants. They're his pants now!ðŸ’…"},POND:{from:"Andrei",msg:"The swans are waiting... ðŸ¦¢",smartReply:"Try to feed them with some clicks! Let's see if they like it."},FUTURE:{from:"System",server:"End of the Line",msg:"The journey continues on Feb 14th."}};function Se({isOpen:o,onClose:s,currentStep:t}){const[a,r]=n.useState(null),[i,l]=n.useState(20),[u,f]=n.useState(50),[j,b]=n.useState(""),[x,y]=n.useState([]),[M,d]=n.useState([]),[c,w]=n.useState(!1),[m,p]=n.useState(!1),[T,I]=n.useState(t),P=n.useRef(!1),F=n.useRef(null),N=_[t]||_.STATION;n.useEffect(()=>{o&&t!==T&&(I(t),p(!1),N&&!N.isJoinEvent?y([{id:"init",user:N.from,text:N.msg}]):y([]),t!=="FUTURE"&&(d([]),P.current=!1))},[o,t,T,N]);const W=()=>{F.current?.scrollIntoView({behavior:"smooth"})};n.useEffect(()=>{o||I(null)},[o]),n.useEffect(()=>{a==="discord"&&W()},[x,M,c,a]),n.useEffect(()=>{if(o&&t==="FUTURE"&&!P.current){P.current=!0,r("discord");let h=!1;return(async()=>(await new Promise(v=>setTimeout(v,2e3)),!h&&(w(!0),await new Promise(v=>setTimeout(v,3e3)),!h&&(w(!1),d([{id:101,user:"Andrei",text:"I have something to ask you..."}]),await new Promise(v=>setTimeout(v,2e3)),!h&&(d(v=>[...v,{id:103,user:"Andrei",isVideo:!0,videoUrl:"video/midas_clip.mp4"}]),d(v=>[...v,{id:104,user:"System",text:"Spoiler: She said yes!!!"}]))))))(),()=>{h=!0}}},[t,o]);const O=()=>{if(!j.trim())return;const h={id:Date.now(),user:"Midas",text:j};y(G=>[...G,h]),b(""),!m&&N.smartReply&&(p(!0),w(!0),setTimeout(()=>{w(!1);const G={id:Date.now()+1,user:N.from,text:N.smartReply};y(v=>[...v,G])},1800))};return o?e.jsxs("div",{className:"fixed inset-0 z-150 flex items-center justify-center sm:items-end sm:justify-end p-4 sm:p-6 md:p-10 pointer-events-none select-none touch-none",children:[e.jsx("div",{className:"absolute inset-0 pointer-events-auto",onClick:s}),e.jsxs("div",{className:"relative pointer-events-auto select-none outline-none scale-[0.85] min-[400px]:scale-[0.95] sm:scale-[1.1] md:scale-[1.2] lg:scale-[1.3] landscape:scale-[0.6] origin-center sm:origin-bottom-right transition-all duration-500 animate-in fade-in slide-in-from-bottom-10",onContextMenu:h=>h.preventDefault(),style:{WebkitUserSelect:"none",userSelect:"none",WebkitTouchCallout:"none"},children:[e.jsx("div",{className:"absolute -left-2 top-24 w-1.5 h-10 bg-zinc-800 rounded-l-md"}),e.jsx("div",{className:"absolute -left-2 top-36 w-1.5 h-14 bg-zinc-800 rounded-l-md"}),e.jsx("div",{className:"absolute -right-2 top-36 w-1.5 h-20 bg-zinc-800 rounded-r-md"}),e.jsx("div",{className:`w-90
                 h-170.5 bg-[#0a0a0a] rounded-[3rem] p-2 shadow-2xl border border-white/10 relative`,children:e.jsxs("div",{className:"w-full h-full bg-black rounded-[2.5rem] overflow-hidden relative flex flex-col border border-white/5",children:[e.jsxs("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 w-[35%] h-7 bg-black rounded-3xl z-70 flex items-center px-4",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mr-auto blur-[1px] opacity-60"}),e.jsx("div",{className:"w-4 h-1 bg-zinc-800 rounded-full"})]}),e.jsxs("div",{className:`absolute top-0 left-0 right-0 z-60 pt-8 pb-3 px-6 flex justify-between items-center transition-all ${a==="jotto"||a==="notes"?"bg-white/80 backdrop-blur-md":a?"bg-black/20 backdrop-blur-md":""}`,children:[e.jsxs("span",{className:`text-[12px] font-bold ${a==="jotto"||a==="notes"?"text-black":"text-white"}`,children:[new Date().getHours(),":",new Date().getMinutes()]}),e.jsx("button",{onClick:a?()=>r(null):s,className:`w-8 h-8 rounded-full cursor-pointer flex items-center justify-center transition-all active:scale-75 z-100 ${a==="jotto"||a==="notes"?"bg-black/10 text-black":"bg-white/10 text-white"}`,children:a?"â†":"âœ•"})]}),e.jsxs("div",{className:"flex-1 relative overflow-hidden flex flex-col",children:[e.jsx("div",{className:`absolute inset-0 transition-colors duration-1000 ${a==="discord"?"bg-[#313338]":a==="pastry"?"bg-[#fdf8f5]":a==="jotto"||a==="notes"?"bg-white":"bg-linear-to-tr from-slate-900 to-rose-900"}`}),e.jsx("div",{className:"h-16 shrink-0 relative z-10"}),e.jsxs("div",{className:"flex-1 relative z-10 overflow-hidden flex flex-col",children:[!a&&e.jsxs("div",{className:"p-8 grid grid-cols-2 gap-8 animate-in fade-in zoom-in-95 duration-500",children:[e.jsxs("div",{onClick:()=>r("discord"),className:"flex flex-col items-center gap-2 cursor-pointer active:scale-90 transition-transform",children:[e.jsx("div",{className:"w-14 h-14 bg-[#5865F2] rounded-2xl flex items-center justify-center shadow-xl",children:e.jsx("svg",{width:"30",height:"30",fill:"white",viewBox:"0 0 127.14 96.36",children:e.jsx("path",{d:"M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.71,32.65-1.82,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.7,77.7,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1,105.25,105.25,0,0,0,32.19-16.14h0C130.46,50.45,121.48,26.7,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.87,53,48.74,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.11,53,91,65.69,84.69,65.69Z"})})}),e.jsx("span",{className:"text-white text-[10px] font-bold",children:"Discord"})]}),e.jsxs("div",{onClick:()=>r("jotto"),className:"flex flex-col items-center gap-2 cursor-pointer active:scale-90 transition-transform",children:[e.jsx("div",{className:"w-14 h-14 bg-zinc-900 rounded-2xl flex items-center justify-center shadow-xl border border-white/10",children:e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[e.jsx("div",{className:"w-2.5 h-2.5 bg-green-500 rounded-sm"}),e.jsx("div",{className:"w-2.5 h-2.5 bg-yellow-500 rounded-sm"}),e.jsx("div",{className:"w-2.5 h-2.5 bg-zinc-600 rounded-sm"}),e.jsx("div",{className:"w-2.5 h-2.5 bg-green-500 rounded-sm"})]})}),e.jsx("span",{className:"text-white text-[10px] font-bold",children:"Jotto"})]}),e.jsxs("div",{onClick:()=>r("notes"),className:"flex flex-col items-center gap-2 cursor-pointer active:scale-90 transition-transform",children:[e.jsxs("div",{className:"w-14 h-14 bg-white rounded-2xl flex flex-col items-center justify-center shadow-xl overflow-hidden",children:[e.jsx("div",{className:"w-full h-3 bg-[#f39c12]"}),e.jsxs("div",{className:"flex-1 w-full p-2 flex flex-col gap-1",children:[e.jsx("div",{className:"w-full h-px bg-gray-200"}),e.jsx("div",{className:"w-full h-px bg-gray-200"}),e.jsx("div",{className:"w-full h-px bg-gray-200"}),e.jsx("div",{className:"w-full h-px bg-gray-200"})]})]}),e.jsx("span",{className:"text-white text-[10px] font-bold",children:"Notes"})]}),e.jsxs("div",{onClick:()=>r("pastry"),className:"flex flex-col items-center gap-2 cursor-pointer active:scale-90 transition-transform group",children:[e.jsxs("div",{className:"w-14 h-14 bg-white rounded-2xl flex items-center justify-center shadow-xl border border-slate-100 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50 to-pink-50 opacity-60"}),e.jsx("div",{className:"relative flex items-center justify-center",children:e.jsx("span",{className:"text-2xl z-10",children:"ðŸ§"})}),e.jsx("div",{className:"absolute -bottom-2 -left-2 w-8 h-8 bg-emerald-200 rounded-full blur-xl opacity-40"})]}),e.jsx("span",{className:"text-white text-[10px] font-bold",children:"SugarRush"})]})]}),a==="discord"&&e.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#313338] animate-in slide-in-from-right duration-300",children:[e.jsxs("div",{className:"p-3 border-b border-black/20 flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-zinc-700 rounded-full flex items-center justify-center text-[10px] text-white font-bold",children:"#"}),e.jsx("span",{className:"text-white text-[11px] font-bold uppercase truncate tracking-tight",children:N.server})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4",children:[t==="STATION"?N.serversAdded?.map((h,G)=>e.jsxs("div",{className:"bg-[#2b2d31] p-3 rounded-lg  text-zinc-300",children:["Added to: ",e.jsx("span",{className:"text-[#5865F2] font-bold",children:h})]},G)):x.map(h=>e.jsxs("div",{className:"flex flex-col animate-in fade-in",children:[e.jsx("span",{className:`text-[10px] font-bold ${h.user==="Midas"?"text-pink-400":"text-[#5865f2]"}`,children:h.user}),e.jsx("div",{className:"bg-black/20 p-2.5 rounded-xl mt-1 text-zinc-200 text-xs border border-white/5 leading-relaxed",children:h.text})]},h.id)),M.map(h=>e.jsxs("div",{className:"flex flex-col animate-in slide-in-from-bottom-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-[#5865f2]",children:h.user}),h.isVideo?e.jsx(fe,{videoUrl:h.videoUrl}):e.jsx("div",{className:"bg-black/20 p-2.5 rounded-xl mt-1 text-zinc-200 text-xs",children:h.text})]},h.id)),c&&e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("span",{className:"w-1 h-1 bg-zinc-500 rounded-full animate-bounce"})," ",e.jsx("span",{className:"w-1 h-1 bg-zinc-500 rounded-full animate-bounce [animation-delay:0.2s]"})]}),e.jsx("span",{className:"text-zinc-500 text-[10px] italic",children:"Typing..."})]}),e.jsx("div",{ref:F})]}),t!=="STATION"&&e.jsx("div",{className:"p-4 bg-[#313338] pb-10",children:e.jsxs("div",{className:"bg-[#383a40] rounded-xl flex items-center px-4 py-3 gap-3",children:[e.jsx("input",{value:j,onChange:h=>b(h.target.value),onKeyDown:h=>h.key==="Enter"&&O(),placeholder:"Type a message...",className:"bg-transparent outline-none text-white text-xs flex-1"}),e.jsx("button",{onClick:O,className:"text-pink-500 font-bold text-[10px] uppercase tracking-wider",children:"Send"})]})})]}),a==="jotto"&&e.jsx(ve,{}),a==="notes"&&e.jsx(we,{}),a==="pastry"&&e.jsx(be,{sugarLevel:i,setSugarLevel:l,happiness:u,setHappiness:f})]})]}),e.jsx("div",{className:`absolute bottom-2 left-1/2 -translate-x-1/2 w-32 h-1.5 rounded-full z-80 ${a==="jotto"||a==="notes"?"bg-black/20":"bg-white/20"}`})]})})]})]}):null}function Ne({isOpen:o,onClose:s}){return o?e.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-500 pointer-events-auto",children:e.jsxs("div",{className:"w-full max-w-85 max-h-[85vh] bg-[#fffafa] rounded-[2.5rem] shadow-2xl overflow-hidden border border-pink-100/50 flex flex-col animate-in zoom-in-95 pointer-events-auto relative",children:[e.jsxs("div",{className:"bg-linear-to-b from-white to-pink-50 p-5 text-center relative shrink-0 border-b border-pink-100/50",children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 z-30 w-10 h-10 flex items-center justify-center rounded-full bg-black text-white hover:bg-pink-500 transition-all duration-500 shadow-xl group cursor-pointer active:scale-90",children:e.jsx("span",{className:"group-hover:rotate-90 transition-transform duration-500 text-lg",children:"âœ•"})}),e.jsx("div",{className:"w-14 h-14 bg-white rounded-full mx-auto mb-2 flex items-center justify-center text-2xl shadow-lg shadow-pink-100 border-4 border-white",children:"ðŸ‘©â€âš•ï¸"}),e.jsx("h2",{className:"text-gray-800 font-black text-lg tracking-tight leading-none",children:"Dr. Parmida"}),e.jsx("p",{className:"text-pink-700 text-[8px] uppercase font-bold tracking-[0.2em] mt-1.5",children:"Elite Medical Practitioner"})]}),e.jsxs("div",{className:"p-5 space-y-4 overflow-y-auto custom-scrollbar bg-[#fffafa]",children:[e.jsx("div",{className:"bg-white p-3.5 rounded-2xl border border-pink-100 shadow-sm",children:e.jsx("p",{className:"text-gray-600 text-[12px] leading-relaxed italic",children:'"Known for her incredible hospitality, she makes you smile before the consultation begins. She calls everyone by their first name!"'})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(R,{label:"Clinical Skill",stars:10}),e.jsx(R,{label:"Expertise",stars:10}),e.jsx(R,{label:"Soft Skills",text:"Highly Adaptable"}),e.jsxs("div",{className:"mt-4 bg-[#1e272e] p-4 rounded-2xl text-white shadow-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-pink-500/10 rounded-full -mr-8 -mt-8 blur-xl"}),e.jsx("p",{className:"text-gray-500 text-[8px] font-black uppercase tracking-widest mb-2",children:"Professional Metrics"}),e.jsxs("div",{className:"flex justify-between items-center text-[11px]",children:[e.jsx("span",{className:"text-gray-300 font-medium",children:"Patient Trust"}),e.jsx("span",{className:"text-pink-300 font-bold",children:"100%"})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t border-white/5",children:[e.jsx("span",{className:"font-bold text-white text-[11px] italic",children:"Hospitality Score"}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-yellow-400 font-black text-lg",children:"âˆž / 5"}),e.jsx("p",{className:"text-[7px] text-gray-500 italic uppercase",children:"Legendary Status"})]})]})]})]}),e.jsx("div",{className:"bg-pink-50/50 p-3 rounded-xl border border-pink-100",children:e.jsx("p",{className:"text-gray-700 text-[11px] leading-snug italic text-center",children:`"NOTE: She's also known as the medical community's rising star."`})}),e.jsx("div",{className:"pt-2",children:e.jsx("p",{className:"text-gray-400 text-[8px] uppercase font-bold text-center tracking-[0.2em]",children:"Verified medical board reviews"})})]})]})}):null}function R({label:o,stars:s,text:t}){return e.jsxs("div",{className:"flex justify-between items-center border-b border-pink-100/30 pb-1.5",children:[e.jsx("span",{className:"text-gray-500 text-[9px] font-black uppercase tracking-tight",children:o}),s?e.jsx("div",{className:"flex gap-0.5",children:[...Array(s)].map((a,r)=>e.jsx("span",{className:"text-yellow-500 text-[10px]",children:"â˜…"},r))}):e.jsx("span",{className:"text-[#1e272e] font-black text-[10px] uppercase bg-pink-100/50 px-2 py-0.5 rounded-md",children:t})]})}function ke({onClick:o}){const[s,t]=n.useState(!1);return e.jsxs("group",{position:[3,1.5,1.2],children:[e.jsxs("mesh",{scale:s?1.1:1,onClick:a=>{a.stopPropagation(),o()},onPointerOver:a=>{a.stopPropagation(),t(!0),document.body.style.cursor="pointer"},onPointerOut:()=>{t(!1),document.body.style.cursor="auto"},children:[e.jsx("boxGeometry",{args:[2,.6,.1]}),e.jsx("meshStandardMaterial",{color:s?"#3498db":"#2980b9",emissive:s?"#3498db":"#2980b9",emissiveIntensity:s?2:1,transparent:!0,opacity:.8}),e.jsxs("mesh",{position:[0,0,-.05],children:[e.jsx("boxGeometry",{args:[2.1,.7,.05]}),e.jsx("meshStandardMaterial",{color:"white",transparent:!0,opacity:.2})]}),e.jsx(g,{position:[0,0,.08],fontSize:.2,color:"#2563eb",anchorX:"center",anchorY:"middle",children:"â­ Reviews"})]}),e.jsx(A,{speed:3,rotationIntensity:.2,floatIntensity:.5})]})}function Me({step:o,isMobile:s}){const t=n.useRef();return z(a=>{const r=s?1.6:1;a.camera.position.lerp(new Z(o.x+3,8*r,18*r),.04),a.camera.lookAt(o.x,0,0),t.current&&(t.current.intensity=C.lerp(t.current.intensity,o.light*1.5,.05),t.current.position.x=C.lerp(t.current.position.x,o.x+10,.05))}),e.jsxs(e.Fragment,{children:[e.jsx(J,{distance:45e4,sunPosition:o.sun,inclination:0,azimuth:.25}),e.jsx("ambientLight",{intensity:.4}),e.jsx("directionalLight",{ref:t,position:[10,20,10],castShadow:!0,"shadow-mapSize":[1024,1024],"shadow-camera-left":-20,"shadow-camera-right":20,"shadow-camera-top":20,"shadow-camera-bottom":-20}),e.jsx(Y,{preset:o.sun[1]<-.5?"night":"dawn"})]})}function Ge({count:o=120}){const s=n.useRef(),t=n.useMemo(()=>new K,[]);return n.useEffect(()=>{for(let a=0;a<o;a++)t.position.set(-50+a*.85,-.02,1.55),t.updateMatrix(),s.current.setMatrixAt(a,t.matrix);s.current.instanceMatrix.needsUpdate=!0},[o,t]),e.jsxs("instancedMesh",{ref:s,args:[null,null,o],receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[.18,.04,1.1]}),e.jsx("meshStandardMaterial",{color:"#3d2b1f",roughness:.9})]})}const S={STATION:{x:-15,sun:[0,0,-1],light:.5,label:"Early Morning at Central Station",btn:"Start the Day ðŸš‚"},COFFEE:{x:-5,sun:[0,.1,-1],light:1,label:"Coffee Break with Andrei",btn:"Go to Clinic ðŸ¥"},CLINIC:{x:5,sun:[0,1,-1],light:1.8,label:"Optic Clinic - Work Time",btn:"Go to the Mall ðŸ›ï¸"},MALL:{x:15,sun:[0,.5,-1],light:1.4,label:"Afternoon Shopping",btn:"Relax at the Pond ðŸ¦¢"},POND:{x:25,sun:[0,.2,-1],light:1,label:"Peaceful Afternoon with Swans",btn:"Forward to the Future âž”"},FUTURE:{x:35,sun:[0,-1,-1],light:.1,label:"Destination: February 14th",btn:"Return ðŸ”„"}},Ce=({isPhoneOpen:o,isCoffeeOpen:s})=>{const[t,a]=n.useState(!1),r=n.useRef(null);n.useEffect(()=>{const l="/parmida-world/",f=`${l.endsWith("/")?l:`${l}/`}audio/for-p.mp3`.replace("//","/"),j=new Audio(f);return j.loop=!0,j.volume=.1,r.current=j,()=>{r.current&&(r.current.pause(),r.current=null)}},[]),n.useEffect(()=>{r.current&&(r.current.volume=o||s?.02:.1)},[o,s]);const i=()=>{r.current&&(t?r.current.pause():r.current.play().catch(l=>{console.error("Audio blockat. ÃŽncearcÄƒ sÄƒ dai un click oriunde pe paginÄƒ mai Ã®ntÃ¢i.",l)}),a(!t))};return e.jsxs("div",{className:"flex flex-col items-end gap-1 md:gap-2",children:[e.jsxs("button",{onClick:i,className:`flex items-center cursor-pointer gap-2 md:gap-3 px-3 py-2 md:px-4 md:py-3 rounded-2xl backdrop-blur-xl border transition-all duration-500 shadow-xl
                ${t?"bg-pink-500/20 border-pink-500/50 text-pink-500 shadow-pink-500/10":"bg-black/60 border-white/10 text-white hover:border-white/30"}`,children:[e.jsxs("div",{className:"flex items-end gap-[2px] h-3 w-4",children:[e.jsx("div",{className:`w-1 bg-current rounded-full transition-all duration-300 ${t?"animate-[music-bar_0.8s_infinite]":"h-[4px]"}`}),e.jsx("div",{className:`w-1 bg-current rounded-full transition-all duration-300 ${t?"animate-[music-bar_1.2s_infinite]":"h-[2px]"}`}),e.jsx("div",{className:`w-1 bg-current rounded-full transition-all duration-300 ${t?"animate-[music-bar_1s_infinite]":"h-[4px]"}`})]}),e.jsx("span",{className:"text-[9px] md:text-[11px] font-black uppercase tracking-[0.15em]",children:t?"Mute":"Music"})]}),e.jsx("div",{className:`transition-all duration-700 transform 
                ${t?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"}`,children:e.jsxs("div",{className:"bg-black/40 backdrop-blur-md px-2 py-1 md:px-3 md:py-1.5 rounded-xl border border-white/5 flex items-center gap-2",children:[e.jsx("span",{className:"text-[7px] md:text-[9px] text-pink-300 font-bold uppercase tracking-tighter",children:"Now Playing:"}),e.jsx("span",{className:"text-[8px] md:text-[10px] text-white font-medium italic whitespace-nowrap",children:"For P â€” ilyatruhanov"})]})})]})},Te=()=>{const{isPhoneOpen:o,isCoffeeOpen:s,hasNotification:t,isTransitioning:a,setPhoneOpen:r,setNotification:i}=U();return e.jsxs("div",{className:`
      fixed z-[100] flex flex-row items-center gap-2 md:gap-4 
      transition-all duration-500 
      bottom-4 right-4 scale-90 origin-bottom-right
      md:bottom-10 md:right-10 md:scale-100
      ${a?"opacity-0 translate-y-10":"opacity-100 translate-y-0"}
    `,children:[e.jsx(Ce,{isCoffeeOpen:s,isPhoneOpen:o}),!o&&e.jsxs("button",{onClick:()=>{r(!0),i(!1)},className:"relative w-16 h-16 md:w-20 md:h-20 bg-gradient-to-br from-pink-500 to-rose-600 rounded-2xl md:rounded-3xl shadow-2xl flex items-center justify-center hover:scale-110 active:scale-90 transition-all border border-white/20 cursor-pointer",children:[e.jsx("span",{className:"text-3xl md:text-4xl",children:"ðŸ“±"}),t&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 md:w-6 md:h-6 bg-white rounded-full flex items-center justify-center animate-bounce shadow-md",children:e.jsx("span",{className:"text-[10px] text-pink-600 font-black",children:"1"})})]})]})},Ae=()=>{const{currentStep:o,isPhoneOpen:s,isReviewOpen:t,isCoffeeOpen:a,isMallOpen:r,isTransitioning:i,isMobile:l,setPhoneOpen:u,setReviewOpen:f,setCoffeeOpen:j,setMallOpen:b,setNotification:x,setIsMobile:y,handleNextStep:M}=U(),[d,c]=n.useState(!1);n.useEffect(()=>{const m=()=>y(window.innerWidth<1024);m(),window.addEventListener("resize",m);const p=setTimeout(()=>c(!0),1e3);return()=>{window.removeEventListener("resize",m),clearTimeout(p)}},[y]),n.useEffect(()=>{let m;return o==="FUTURE"&&d&&(m=setTimeout(()=>{x(!0),u(!0)},5e3)),()=>clearTimeout(m)},[o,d,x,u]);const w=t||a||r;return e.jsxs("div",{className:`w-full h-screen relative bg-[#0f172a] transition-opacity duration-1000 ${d?"opacity-100":"opacity-0"}`,children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes music-bar { 0%, 100% { height: 4px; } 50% { height: 12px; } }
        ${w?".annotation { display: none !important; }":""}
        .annotation { filter: blur(${i?"4px":"0px"}); transition: filter 1s; }
        @keyframes speed-streak {
          0% { transform: translateX(0); opacity: 0; }
          50% { opacity: 1; }
          100% { transform: translateX(calc(100vw + 300px)); opacity: 0; }
        }
        .animate-speed-streak { animation: speed-streak 0.8s linear infinite; }
      `}}),!s&&e.jsxs("div",{className:`absolute top-6 left-6 z-[9999] p-6 bg-black/80 backdrop-blur-xl border border-white/10 rounded-3xl shadow-2xl text-white max-w-sm transition-all duration-700 ${i?"opacity-0 -translate-y-4":"opacity-100"}`,children:[e.jsx("p",{className:"text-pink-500 font-black text-[10px] uppercase tracking-widest mb-1",children:"Parmida's Express â€¢ 2026"}),e.jsx("h2",{className:"text-2xl font-black uppercase mb-4 leading-tight",children:S[o].label}),e.jsxs("button",{onClick:()=>M(S),className:"w-full py-4 bg-white text-black font-black rounded-2xl hover:bg-pink-500 hover:text-white transition-all active:scale-95 flex items-center justify-center gap-2 shadow-lg cursor-pointer",children:[S[o].btn," âž”"]})]}),e.jsx(Te,{}),e.jsx(Ne,{isOpen:t,onClose:()=>f(!1)}),e.jsx(re,{isOpen:a,onClose:()=>j(!1)}),e.jsx(je,{isOpen:r,onClose:()=>b(!1)}),e.jsx(Se,{isOpen:s,onClose:()=>u(!1),currentStep:o}),e.jsx("div",{className:`absolute inset-0 z-50 pointer-events-none transition-opacity duration-1000 ${i?"opacity-100 backdrop-blur-[2px]":"opacity-0"}`,children:i&&e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(5)].map((m,p)=>e.jsx("div",{className:"absolute bg-gradient-to-r from-transparent via-white/20 to-transparent h-px w-96 animate-speed-streak",style:{top:`${20+p*15}%`,animationDelay:`${p*.1}s`}},p))})}),e.jsx(B,{shadows:!0,camera:{position:[0,5,12],fov:22},dpr:[1,2],children:e.jsxs(n.Suspense,{fallback:e.jsx(ee,{}),children:[e.jsx(Me,{step:S[o],isMobile:l}),e.jsxs("group",{"position-y":-1,children:[e.jsx(ie,{position:[S.STATION.x,0,-3.5],scale:1.5}),e.jsx("group",{position:[S.COFFEE.x,0,-3.5],children:e.jsx(te,{onClick:()=>j(!0),onPointerOver:()=>document.body.style.cursor="pointer",onPointerOut:()=>document.body.style.cursor="auto"})}),e.jsxs("group",{position:[S.CLINIC.x,0,-3.5],children:[!t&&!s&&e.jsx(ke,{onClick:()=>f(!0)}),e.jsx(ae,{})]}),e.jsxs("group",{position:[S.MALL.x,0,-3.5],children:[e.jsx(he,{onClick:()=>b(!0)}),!r&&!t&&!s&&e.jsx(ue,{onClick:()=>b(!0)})]}),e.jsx(oe,{position:[S.POND.x,0,-2]}),e.jsx(xe,{position:[S.FUTURE.x,0,-1]}),e.jsx(de,{targetX:S[o].x}),e.jsxs("group",{"position-y":.05,children:[e.jsxs("mesh",{position:[0,0,1.2],receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[100,.08,.12]}),e.jsx("meshStandardMaterial",{color:"#2d3436",metalness:.8})]}),e.jsxs("mesh",{position:[0,0,1.9],receiveShadow:!0,children:[e.jsx("boxGeometry",{args:[100,.08,.12]}),e.jsx("meshStandardMaterial",{color:"#2d3436",metalness:.8})]}),e.jsx(Ge,{})]})]}),e.jsx($,{opacity:.4,scale:60,blur:2.5,far:10,resolution:512}),e.jsx(Q,{enableRotate:!1,enablePan:!1,minDistance:l?15:10,maxDistance:35})]})})]})};export{Ae as default};
